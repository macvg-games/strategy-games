const _0x4aa168=_0x3fc2;(function(_0x2d3d2b,_0x4b6ae8){const _0x262ad5=_0x3fc2,_0x499366=_0x2d3d2b();while(!![]){try{const _0x5e0f7f=-parseInt(_0x262ad5(0x310))/0x1*(parseInt(_0x262ad5(0x2f1))/0x2)+-parseInt(_0x262ad5(0x2d9))/0x3+-parseInt(_0x262ad5(0x2ed))/0x4+-parseInt(_0x262ad5(0x326))/0x5+parseInt(_0x262ad5(0x225))/0x6+parseInt(_0x262ad5(0x34f))/0x7*(-parseInt(_0x262ad5(0x2b5))/0x8)+parseInt(_0x262ad5(0x27d))/0x9;if(_0x5e0f7f===_0x4b6ae8)break;else _0x499366['push'](_0x499366['shift']());}catch(_0x38bea5){_0x499366['push'](_0x499366['shift']());}}}(_0x5a33,0xf329e));const MAXBRICKS=0x2400,WALLS=0x60,SHAPESIZE=0x4,MAPX=0x200,MAPY=0x200,INITIALSIZE=0x2,PERFORMANCELEVEL=0x18,ENDGAMELEVEL=0x20,MAXLEVEL=0x60,WINBRICKS=0x2400,INITIALPOINTS=0x2710,INITIALSPEED=0x3,INITIALGOLD=0xa,INITIALSILVER=0xa,INITIALBRONZE=0xa,SPEED_GENERATION_LEVELS=0x5,SPEED_INCREASE_LEVEL_2=0xc,SPEED_INCREASE_LEVEL_3=0x16,INITIALPOINTGROWTH=0x1,POINTGROWTHENDGAMEFACTOR=0x2,TETRISPOINTSPROPORTION=0x4,BINGOFACTOR=0x4,TETRISGROWRATE=0x1,TTLFACTOR=0x14,BRICKSPERSECOND=0xa,POINTGROWTH_BONUS_FIELD=0xfa,INSTANTTIME=0x1f3,INSTANTSPEED=0x15d,INSTANTMAGNET=0xfb,GHOSTID=0x64,BOMBID=0x97,GIFTID=0x6f,GOLDID=0xa,GOLDIDBONUS=0x14,SILVERID=0x14,SILVERIDBONUS=0xf,BRONZEID=0xf,BRONZEIDBONUS=0xa,BOMBLARGE=0x7,BOMBMEDIUM=0x3,RADIUS_BOMB_SMALL=0x1,RADIUS_BOMB_MEDIUM=0x2,RADIUS_BOMB_LARGE=0x4,ROTATECOST=0x5,SPELLBASECOST=0xfa,SPELLFACTOR=0x2,COSTFACTOR=0xa,SPEEDCOSTREDUCED=0xa,TTLCOSTREDUCED=0x4b,SHRINKCOSTREDUCED=0x19,SPEEDCOST=0x64,TTLBUYCOST=0x2ee,SHRINKCOST=0xfa,SKIN_0=0x0,SKIN_1=0x1,SKIN_2=0x2,SKIN_0_BUYCOST=0x3c,SKIN_1_BUYCOST=0x50,SKIN_2_BUYCOST=0x64,NOTCHES_CHARMS=0x3,NOTCHES_SKINS=0x1,NOTCHES_TROPHIES=0x0,CHARM_FACTORY=0x0,CHARM_SPEED=0x1,CHARM_SPEED_PLUS=0x2,CHARM_ICE=0x3,CHARM_FIRE=0x4,CHARM_FACTORY_BUYCOST=0x28,CHARM_SPEED_BUYCOST=0x78,CHARM_SPEED_PLUS_BUYCOST=0xf0,CHARM_ICE_BUYCOST=0x64,CHARM_FIRE_BUYCOST=0x64,CHARM_FACTORY_DRAIN=0xf,CHARM_SPEED_DRAIN=0x14,CHARM_SPEED_PLUS_DRAIN=0x19;let skinsCost=[0x3c,0x50,0x64],charmsCost=[0x28,0x78,0xf0,0x64,0x64];const CASTLE_POINTS=0x3a98,CASTLE_COINS=0x64,COINS_BONUS_BIG=0xa,COINS_BONUS_SMALL=0x5,CASTLE_POINTS_ID=0x60,CASTLE_COINS_ID=0x61,CASTLE_PIECES=0x62,TTLGIFTTIME=0x1e,POINTSGIFT=0x7d0,COINSGIFTSBIG=0xa,COINSGIFTSMALL=0x5,TTLLOSS=0x1e,POINTSLOSS=0x1f4,FIRETIME=0x3,FIRETIME_BONUS=0x2,CHAINTIME=0x4,SPEEDTIME=0xf,SPEEDTIMEBONUS=0xa,TTLBUYTIME=0x1e,DRAIN_TIME=0x1e,FACTORY_TIME=0x5,FIELD_CYCLE_POINTS=0x3,FIELD_CYCLE_ICE_FIRE=0x3c,AUTOMAGNET_TIME=0x1e,AUTOMAGNETON=0x1,AUTOMAGNETOFF=0x5,AUTOMAGNETONTIME=0x1e,AUTOMAGNETOFFTIME=0x96,AUTOMAGNET_CYCLE=0xb4,FIELD_POINTS_SIZE_ABOVE_MAXLEVEL=0x6;let SHAPE_I_H=0x0,SHAPE_I_V=0x1,SHAPE_O=0x2,SHAPE_T_N=0x3,SHAPE_T_W=0x4,SHAPE_T_S=0x5,SHAPE_T_E=0x6,SHAPE_S_H=0x7,SHAPE_S_V=0x8,SHAPE_Z_H=0x9,SHAPE_Z_V=0xa,SHAPE_J_N=0xb,SHAPE_J_W=0xc,SHAPE_J_S=0xd,SHAPE_J_E=0xe,SHAPE_L_N=0xf,SHAPE_L_W=0x10,SHAPE_L_S=0x11,SHAPE_L_E=0x12,SHAPE_PLUS=0x13,SHAPE_COUNT=0x14,idBrick=0x0,players=new Map(),bricks=new Map(),bricksInViewFree=new Map(),bricksInViewMe=new Map(),bricksInMini=new Map(),spellsEnabled=new Map(),fieldPointsX,fieldPointsY,fieldPointsXEnd,fieldPointsYEnd,fieldPointsSize,fieldIceX,fieldIceY,fieldIceXEnd,fieldIceYEnd,fieldIceSize,fieldFireX,fieldFireY,fieldFireXEnd,fieldFireYEnd,fieldFireSize,wallXY=0x0,wallDirection=!0x0,xy=[],charms=0x1f,charmsOwned=0x0,charmsEquipped=0x0,skins=0x7,skinsOwned=0x0,skinsEquipped=0x0,trophies=0x0,trophiesOwned=0x0,trophiesEquipped=0x0,tml,me,myId=-0x1,myPoints=0x0,myTtl,myPointRate,mySpeed,drainRate=0x0,factory=!0x1,immuneFire=!0x1,immuneIce=!0x1,gold=0xa,silver=0xa,bronze=0xa,NAMELENGTH=0x8,currentViewSizeX=0x0,currentViewSizeY=0x0,unit=0x0,unitsNrX=0x18,unitsNrY=0xc,currentViewX=0x0,currentViewY=0x0,intro=!0x0,introSteps=0x5a,introStepsX=0x2,introStepsY=introStepsX/0x2,ZOOMFACTORX=0xc+introSteps*introStepsX,ZOOMFACTORY=0x6+introSteps*introStepsY,gradientMargin,TTLPANIC=0x14,NOTIFYABOVECOINS=0x14,POINTSPANIC=0x64,hide=!0x1,ttlCost=0x2ee,speedCost=0x64,shrinkCost=0x0,fireDuration=0x3,speedDuration=0xf,autoMagnet=!0x1,gamebar=$('#gamebar'),leftpanel=$(_0x4aa168(0x20e)),helpexpand=$('#helpexpand'),helpcollapsed=$(_0x4aa168(0x361)),scoreexpand=$(_0x4aa168(0x289)),scorecollapsed=$(_0x4aa168(0x2f0)),statusexpand=$(_0x4aa168(0x1fe)),statuscollapsed=$(_0x4aa168(0x2c9)),gifts=$(_0x4aa168(0x31b)),spells=$(_0x4aa168(0x366)),settingsexpand=$('#settingsexpand'),settingscollapsed=$(_0x4aa168(0x21a)),winpopup=$(_0x4aa168(0x350)),gopopup=$(_0x4aa168(0x372)),goplayagain=$('#goplayagain'),statusserver=$(_0x4aa168(0x27e)),gamecanvas=$('#gameCanvas'),costshield=$(_0x4aa168(0x24b)),spellshield=$('#ShieldSpell'),costfire=$(_0x4aa168(0x334)),spellfire=$(_0x4aa168(0x26b)),costmagnet=$(_0x4aa168(0x2f8)),spellmagnet=$(_0x4aa168(0x2f5)),costrotate=$('#costrotate'),spellrotate=$('#RotateSpell'),costspeed=$(_0x4aa168(0x227)),spellspeed=$(_0x4aa168(0x2e9)),costtime=$('#costtime'),spelltime=$(_0x4aa168(0x2b1)),costshrink=$(_0x4aa168(0x360)),spellshrink=$(_0x4aa168(0x336)),singleplayermodern=$(_0x4aa168(0x308)),singleplayerclassic=$(_0x4aa168(0x33b)),multiplayer=$(_0x4aa168(0x22b)),highscore=$(_0x4aa168(0x32b)),hscontent=$('#hscontent'),points=$(_0x4aa168(0x2df)),pointsValue=$(_0x4aa168(0x304)),lvl=$('#lvl'),scoreLvl=$('#scoreLvl'),statusSpeed=$('#statusSpeed'),leaderboard=$(_0x4aa168(0x342)),goldCoins=$(_0x4aa168(0x241)),silverCoins=$('#silverCoins'),bronzeCoins=$('#bronzeCoins'),statusCharm=$(_0x4aa168(0x26d)),playerText=$(_0x4aa168(0x30b)),playerTextTTL=$(_0x4aa168(0x1fa)),visit=$(_0x4aa168(0x329)),ROTATEBIT=0x0,SHIELDBIT=0x1,FIREBIT=0x2,MAGNETBIT=0x3,SPEEDBIT=0x4,TIMEBIT=0x5,SHRINKBIT=0x6,Game={'fps':0x3c},actionCounter=0x0,animCounter=0x0,clockCounter=0x0,processKey=!0x1,seconds=0x0;const MINIMUM_HEIGHT_SHOW_NONE=0x64;let gameOver=!0x1,gameInstance=0x0,fireInstance=0x0,shieldInstance=0x0,scores='',status='',notifyCoins=!0x0,runNotifyCoins=!0x1,isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|PlayStation/i[_0x4aa168(0x2f2)](navigator['userAgent']),cssVisible={'visibility':'visible'},cssHidden={'visibility':_0x4aa168(0x22e)},cssDisplayNone={'display':_0x4aa168(0x2a5)},cssLight={'background':_0x4aa168(0x2a7)},cssDark={'background':'#7c7c7c'},cssStatusCollapsedBlinkOff={'background-color':_0x4aa168(0x2b0)},cssStatusCollapsedBlinkOn={'background-color':'red'},cssPointsField={'background-color':_0x4aa168(0x320)},cssPointsPanic={'background-color':'red'},cssPointsDefault={'background-color':_0x4aa168(0x26c)},cssDisabled={'opacity':0.2},cssEnabled={'opacity':0x1},angleSouth1=0.25*Math['PI'],angleWest1=0.75*Math['PI'],angleNorth1=1.25*Math['PI'],angleEast1=1.75*Math['PI'],angleNorth2=0.5*Math['PI'],angleSouth2=1.5*Math['PI'],XSpell1,YSpell1,RSpell1,RSpell105,RSpell1015,RSpell1020,RSpell1025,RSpell1033,RSpell1040,RSpell1083,RSpell1087,XSpell2,YSpell2,RSpell2,XSpell3,XSpell4,XSpell5,YSpell3,YSpell4,YSpell5,RSpell3,RSpell4,RSpell5,MiniX=0.78,MiniWidth=0.2,MiniHeight=0.2,MINIMAP_UNITS_WIDTH=0x30,MINIMAP_UNITS_HEIGTH=0x18,MiniW2=MINIMAP_UNITS_WIDTH,MiniH2=MINIMAP_UNITS_HEIGTH,bomblarge=0x7,bombmedium=0x3,giftNames=[_0x4aa168(0x355),'<div\x20class=\x27textimg\x20gNt\x27>Not\x20enough&nbsp;<img\x20src=\x27Point.png\x27\x20class=\x27m5\x27></div>','<div\x20class=\x27textimg\x20gNt\x27>Frozen\x20(4s)<img\x20src=\x27Chain.png\x27\x20class=\x27m5\x27></div>',_0x4aa168(0x32a),_0x4aa168(0x2cc),_0x4aa168(0x353)+fireDuration+_0x4aa168(0x327),_0x4aa168(0x30f),'<div\x20class=\x27gPz\x27>+1\x20Speed\x20('+speedDuration+_0x4aa168(0x2e2),_0x4aa168(0x228),_0x4aa168(0x1fc),_0x4aa168(0x33a),'<div\x20class=\x27gNt\x27>+1\x20Speed\x20(Penalty\x20expired)</div>',_0x4aa168(0x2b3),_0x4aa168(0x231),'<div\x20class=\x27textimg\x20gPz\x27>+30\x20TTL\x20Seconds&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','<div\x20class=\x27gNg\x27>-1\x20Speed\x20(15)&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>',_0x4aa168(0x36a),_0x4aa168(0x324),_0x4aa168(0x2c4),_0x4aa168(0x250),_0x4aa168(0x2d3),_0x4aa168(0x205),_0x4aa168(0x32f),_0x4aa168(0x217),_0x4aa168(0x376),_0x4aa168(0x2f7),_0x4aa168(0x240),_0x4aa168(0x208),_0x4aa168(0x33d),_0x4aa168(0x275),'<div\x20class=\x27gHp\x27>If\x20you\x20still\x20don\x27t\x20see\x20any,\x20try\x20exploring\x20more\x20of\x20the\x20map.</div>','<div\x20class=\x27textimg\x20gHp\x27>When\x20the\x20square\x20is\x20over\x20some\x20tiles,\x20press&nbsp;<img\x20src=\x27space.png\x27\x20class=\x27m10\x27>&nbsp;to\x20glue\x20them</div>',_0x4aa168(0x30a),_0x4aa168(0x218),_0x4aa168(0x276),_0x4aa168(0x216),_0x4aa168(0x339),_0x4aa168(0x247),'<div\x20class=\x27textimg\x20gPz\x27>+15000&nbsp;<img\x20src=\x27PointBig.png\x27\x20class=\x27m5\x27></div>',_0x4aa168(0x246),_0x4aa168(0x23b),_0x4aa168(0x340),'<div\x20class=\x27textimg\x20gFr\x27>Burning\x20(3s)<img\x20src=\x27Fire.png\x27\x20class=\x27m5\x27></div>',_0x4aa168(0x24e),_0x4aa168(0x26a),_0x4aa168(0x242),_0x4aa168(0x341),_0x4aa168(0x2e0),_0x4aa168(0x302),'<div\x20class=\x27textimg\x20gNt\x27>Auto&nbsp;<img\x20src=\x27Magnet.png\x27\x20class=\x27m5\x27>&nbsp;is\x20ON\x20for\x20the\x20next\x2030\x20seconds</div>','<div\x20class=\x27textimg\x20gNt\x27>Auto&nbsp;<img\x20src=\x27Magnet.png\x27\x20class=\x27m5\x27>&nbsp;is\x20OFF\x20for\x20the\x20next\x20150\x20seconds</div>',_0x4aa168(0x354),_0x4aa168(0x2a3),_0x4aa168(0x2db)],giftSleeps=[0x3e8,0x3e8,0x4b0,0x4b0,0x4b0,0x4b0,0x4b0,0x4b0,0x4b0,0x3e8,0x3e8,0x3e8,0x640,0x640,0x640,0x640,0x640,0x640,0x9c4,0x9c4,0x9c4,0x5dc,0x157c,0xdac,0xdac,0xfa0,0xdac,0xfa0,0xfa0,0xfa0,0xdac,0xfa0,0xdac,0xfa0,0xdac,0xdac,0xdac,0x640,0x640,0x640,0x4b0,0x4b0,0x4b0,0x4b0,0x4b0,0xfa0,0x640,0x640,0x640,0x1388,0x1388,0x1388,0x1388,0x26ac],mouseDown,mouseDownHandler=handleMouseDown;const GIFT_EMPTY=0x0,GIFT_NOT_ENOUGH_POINTS=0x1,GIFT_FROZEN=0x2,GIFT_UNFRONZEN=0x3,GIFT_SPEED_BONUS=0x4,GIFT_FIRE=0x5,GIFT_SHRINKED=0x6,GIFT_SPEED_BOUGHT=0x7,GIFT_TTL_BOUGHT=0x8,GIFT_MAX_SPEED=0x9,GIFT_PLUS_SPEED_EXPIRED=0xa,GIFT_MINUS_SPEED_EXPIRED=0xb,GIFT_PLUS_SPEED=0xc,GIFT_PLUS_POINTS=0xd,GIFT_PLUS_TTL=0xe,GIFT_MINUS_SPEED=0xf,GIFT_MINUS_POINTS=0x10,GIFT_MINUS_TTL=0x11,GIFT_BRONZE_BONUS=0x12,GIFT_SILVER_BONUS=0x13,GIFT_GOLD_BONUS=0x14,GIFT_MAX_LEVEL=0x15,GIFT_SUPPORT=0x16,HELP_1=0x17,HELP_2=0x18,HELP_3_PC=0x19,HELP_4_PC=0x1a,HELP_3_MOBILE=0x1b,HELP_5=0x1c,HELP_6=0x1d,HELP_7=0x1e,HELP_8_PC=0x1f,HELP_9_PC=0x20,HELP_8_MOBILE=0x21,HELP_9_MOBILE=0x22,HELP_10=0x23,HELP_11=0x24,GIFT_GHOST=0x25,GIFT_CASTLE_POINTS=0x26,GIFT_CASTLE_COINS=0x27,GIFT_TTL_SHRINKED=0x28,GIFT_SHIELD_BONUS=0x29,GIFT_FIRE_BONUS=0x2a,GIFT_SHIELD_PENALTY=0x2b,GIFT_FIRE_PENALTY=0x2c,GIFT_WALLS_REGENERATE_WARNING=0x2d,GIFT_NEW_TROPHY_LEVEL=0x2e,GIFT_COINS_BIG=0x2f,GIFT_COINS_SMALL=0x30,GIFT_AUTO_MAGNET_ON=0x31,GIFT_AUTO_MAGNET_OFF=0x32,TIP_1_PC=0x33,TIP_1_MOBILE=0x34,TIP_2=0x35;let ctx,canvas,gridColor=_0x4aa168(0x280),gridMarkerColor=_0x4aa168(0x359),gridColorLight='#E0E0E0',gridMarkerColorLight=_0x4aa168(0x359),gridColorDark=_0x4aa168(0x311),gridMarkerColorDark=_0x4aa168(0x214),gridMarkerDensity=0x5,shadowColor='#898',shadowColorLight=_0x4aa168(0x25e),shadowColorDark=_0x4aa168(0x22d),curDir=-0x1,LEFT=0x0,RIGHT=0x1,UP=0x2,DOWN=0x3,NW=0x4,NE=0x5,SE=0x6,SW=0x7,catching,shadowOffSets=[[0xa,0x5],[-0x5,0x5],[0x5,0xa],[0x5,-0x5],[0xa,0xa],[-0x5,0xa],[-0x5,-0x5],[0xa,-0x5]],shadows=!0x1;function Queue(){const _0x48f72d=_0x4aa168;this[_0x48f72d(0x296)]=[];}Queue[_0x4aa168(0x202)][_0x4aa168(0x258)]=function(_0x6efeba){const _0x214210=_0x4aa168;this[_0x214210(0x296)][_0x214210(0x1f9)](_0x6efeba);},Queue[_0x4aa168(0x202)][_0x4aa168(0x22a)]=function(){const _0x1c178a=_0x4aa168;return this[_0x1c178a(0x296)][_0x1c178a(0x2e8)]();},Queue[_0x4aa168(0x202)]['isEmpty']=function(){const _0x1a37b6=_0x4aa168;return 0x0===this[_0x1a37b6(0x296)][_0x1a37b6(0x300)];},Queue[_0x4aa168(0x202)][_0x4aa168(0x300)]=function(){const _0x431f15=_0x4aa168;return this[_0x431f15(0x296)][_0x431f15(0x300)];},Queue[_0x4aa168(0x202)][_0x4aa168(0x2c6)]=function(_0x4c0194){const _0x4ed0d4=_0x4aa168;let _0x48ddf9=0x0;for(let _0x3e08e=0x0;_0x3e08e<_0x4c0194;++_0x3e08e)_0x48ddf9+=giftSleeps[this[_0x4ed0d4(0x296)][_0x3e08e]];return _0x48ddf9;},Queue['prototype']['clear']=function(){const _0x4db3eb=_0x4aa168;this[_0x4db3eb(0x296)]['length']=0x0;};let giftsqueue=new Queue();class Particle{constructor(_0x25fd44,_0x50fe8b){const _0x168b2c=_0x4aa168;this['x']=_0x25fd44,this['y']=_0x50fe8b,this[_0x168b2c(0x2fd)]=Math[_0x168b2c(0x2da)]()*sizeIcon*0.6+0.6*sizeIcon,this[_0x168b2c(0x207)]=0x6*Math[_0x168b2c(0x2da)]()-0x3,this[_0x168b2c(0x30d)]=0x6*Math['random']()-0x3,this['alpha']=0.5*Math['random']()+0.5;}['update'](){const _0x502a40=_0x4aa168;this['x']+=this[_0x502a40(0x207)],this['y']+=this[_0x502a40(0x30d)],this['size']>0.2&&(this[_0x502a40(0x2fd)]-=0.1);}[_0x4aa168(0x1fd)](_0x3d1677){const _0xdd7f7f=_0x4aa168;this['x']+=this[_0xdd7f7f(0x207)],this['y']+=this['speedY'],this[_0xdd7f7f(0x2fd)]>0.2&&(this[_0xdd7f7f(0x2fd)]-=_0x3d1677);}[_0x4aa168(0x35b)](){const _0x28b44c=_0x4aa168;ctx[_0x28b44c(0x2b9)](this['x'],this['y'],this[_0x28b44c(0x2fd)],this[_0x28b44c(0x2fd)]);}}let brickStyle,fillStyleTTL=_0x4aa168(0x229),meFillStyle=_0x4aa168(0x28f),meStrokeStyle='green',meParticleColor=_0x4aa168(0x211),skin0StrokeStyle=_0x4aa168(0x31c),skin0FillStyle=_0x4aa168(0x25a),skin0Particle=_0x4aa168(0x362),skin1StrokeStyle=_0x4aa168(0x283),skin1FillStyle=_0x4aa168(0x371),skin1Particle=_0x4aa168(0x345),skin2StrokeStyle=_0x4aa168(0x21b),skin2FillStyle=_0x4aa168(0x356),skin2Particle=_0x4aa168(0x337);function Player(_0x368ae4,_0x5d8028,_0x3e0a81,_0x415d71,_0x2cc08b,_0x464260,_0x5ae2e2,_0x20a66d,_0x402b49,_0x4cf963,_0x90e5e2,_0x3b47bb){const _0x4a8d14=_0x4aa168;this['X']=_0x368ae4,this['Y']=_0x5d8028,this['ID']=_0x3e0a81,this[_0x4a8d14(0x293)]=_0x415d71,this[_0x4a8d14(0x2a0)]=[],this[_0x4a8d14(0x245)]=_0x2cc08b,this[_0x4a8d14(0x2bb)]=_0x5ae2e2,this['Fire']=_0x402b49,this[_0x4a8d14(0x210)]=_0x20a66d,this['TTL']=_0x464260,this[_0x4a8d14(0x313)]=this[_0x4a8d14(0x245)]+'\x200%',playerText['html'](this[_0x4a8d14(0x313)]),this['particlesArray']=[],this[_0x4a8d14(0x2c2)]=[],this['chainParticlesArray']=[],this['lineWidth']=0x3,this[_0x4a8d14(0x2de)](_0x3b47bb),this['Lock']=_0x4cf963,this[_0x4a8d14(0x234)]=_0x90e5e2;}function Brick(_0x40199a,_0x7dcda2,_0x1e2807,_0x278a01){const _0x1f703a=_0x4aa168;this['X']=_0x40199a,this['Y']=_0x7dcda2,this['ID']=_0x1e2807,this[_0x1f703a(0x34a)]=_0x278a01;}Player[_0x4aa168(0x202)]['setSkin']=function(_0x3c8bde){const _0x4814e5=_0x4aa168;if(this[_0x4814e5(0x322)]=_0x3c8bde,-0x1===_0x3c8bde){this['patternSkin']=void 0x0,this[_0x4814e5(0x20a)]=meStrokeStyle,this['particleColor']=meParticleColor,this[_0x4814e5(0x24f)]=meFillStyle;return;}switch(this[_0x4814e5(0x24f)]=meFillStyle,_0x3c8bde){case 0x0:this[_0x4814e5(0x307)]=skin0Image,this[_0x4814e5(0x20a)]=skin0StrokeStyle,this[_0x4814e5(0x29c)]=skin0Particle,this['fillStyle']=skin0FillStyle;break;case 0x1:this[_0x4814e5(0x307)]=skin1Image,this[_0x4814e5(0x20a)]=skin1StrokeStyle,this[_0x4814e5(0x29c)]=skin1Particle,this[_0x4814e5(0x24f)]=skin1FillStyle;break;case 0x2:this['imgSkin']=skin2Image,this[_0x4814e5(0x20a)]=skin2StrokeStyle,this[_0x4814e5(0x29c)]=skin2Particle,this[_0x4814e5(0x24f)]=skin2FillStyle;}intro||(this[_0x4814e5(0x274)]=resizePattern(this[_0x4814e5(0x307)],Math[_0x4814e5(0x1f3)](this[_0x4814e5(0x293)]*segX,this[_0x4814e5(0x293)]*segY)));},Player['prototype'][_0x4aa168(0x2a8)]=function(){const _0x417fce=_0x4aa168;-0x1!==this['skin']&&(this[_0x417fce(0x274)]=resizePattern(this[_0x417fce(0x307)],Math[_0x417fce(0x1f3)](this['Size']*segX,this[_0x417fce(0x293)]*segY)));},Player[_0x4aa168(0x202)][_0x4aa168(0x23f)]=function(){const _0x377e3e=_0x4aa168;this[_0x377e3e(0x2fe)]<TTLPANIC&&this[_0x377e3e(0x2fe)]%0x2?playerTextTTL[_0x377e3e(0x346)]({'color':_0x377e3e(0x209)}):playerTextTTL[_0x377e3e(0x346)]({'color':_0x377e3e(0x229)});},Player['prototype']['updatePercentage']=function(){const _0x24bf54=_0x4aa168;this['Percentage']=(Math[_0x24bf54(0x347)](0x64*this[_0x24bf54(0x2a0)][_0x24bf54(0x300)]/(this[_0x24bf54(0x293)]*this[_0x24bf54(0x293)])*0xa)/0xa)['toString']()+'%',playerText[_0x24bf54(0x2fb)](this['Percentage']);},Player[_0x4aa168(0x202)][_0x4aa168(0x303)]=function(_0x414c99,_0x5e9d2d,_0x475665){const _0x5d44da=_0x4aa168;_0x475665=Math[_0x5d44da(0x2af)](_0x475665,0x1f4);for(let _0x1bd9f1=0x0;_0x1bd9f1<_0x475665;++_0x1bd9f1)this['particlesArray']['push'](new Particle(_0x414c99,_0x5e9d2d));},Player[_0x4aa168(0x202)][_0x4aa168(0x343)]=function(_0x33171c,_0xe6a5cd,_0x3ac6c4){const _0x2c2688=_0x4aa168;_0x3ac6c4=Math[_0x2c2688(0x2af)](_0x3ac6c4,0x1f4);for(let _0x5b3787=0x0;_0x5b3787<_0x3ac6c4;++_0x5b3787)this[_0x2c2688(0x2c2)][_0x2c2688(0x1f9)](new Particle(_0x33171c,_0xe6a5cd));},Player[_0x4aa168(0x202)][_0x4aa168(0x2a4)]=function(_0xc973c,_0x39ef9b,_0xff99bb){const _0x7e080d=_0x4aa168;_0xff99bb=Math[_0x7e080d(0x2af)](_0xff99bb,0x1f4);for(let _0x5f11e3=0x0;_0x5f11e3<_0xff99bb;++_0x5f11e3)this['chainParticlesArray']['push'](new Particle(_0xc973c,_0x39ef9b));},Player[_0x4aa168(0x202)][_0x4aa168(0x2d0)]=function(){const _0x4befe8=_0x4aa168;for(let _0x452c5f=0x0;_0x452c5f<this['particlesArray'][_0x4befe8(0x300)];++_0x452c5f){let _0x183c1a=this[_0x4befe8(0x370)][_0x452c5f];ctx[_0x4befe8(0x24f)]=this[_0x4befe8(0x29c)]+_0x183c1a['alpha']+')',_0x183c1a[_0x4befe8(0x35b)]();}let _0x388816=this[_0x4befe8(0x2c2)][_0x4befe8(0x300)];if(_0x388816>0x0){ctx[_0x4befe8(0x24f)]=patternFire;for(let _0xfc69cb=0x0;_0xfc69cb<_0x388816;++_0xfc69cb)this[_0x4befe8(0x2c2)][_0xfc69cb][_0x4befe8(0x35b)]();}let _0xf0123b=this[_0x4befe8(0x369)]['length'];if(_0xf0123b>0x0){ctx[_0x4befe8(0x24f)]=patternChain;for(let _0x3c9f05=0x0;_0x3c9f05<_0xf0123b;++_0x3c9f05)this[_0x4befe8(0x369)][_0x3c9f05][_0x4befe8(0x35b)]();}},Player['prototype'][_0x4aa168(0x32e)]=function(){const _0xe0208b=_0x4aa168;for(let _0x320f25=0x0;_0x320f25<this[_0xe0208b(0x370)]['length'];++_0x320f25)this[_0xe0208b(0x370)][_0x320f25]['update'](),this[_0xe0208b(0x370)][_0x320f25][_0xe0208b(0x2fd)]<=0.2&&(this[_0xe0208b(0x370)][_0xe0208b(0x25f)](_0x320f25,0x1),--_0x320f25);for(let _0x3daf75=0x0;_0x3daf75<this[_0xe0208b(0x2c2)][_0xe0208b(0x300)];++_0x3daf75)this[_0xe0208b(0x2c2)][_0x3daf75][_0xe0208b(0x1fd)](0.4),this[_0xe0208b(0x2c2)][_0x3daf75]['size']<=0.2&&(this[_0xe0208b(0x2c2)][_0xe0208b(0x25f)](_0x3daf75,0x1),--_0x3daf75);for(let _0x274b78=0x0;_0x274b78<this['chainParticlesArray'][_0xe0208b(0x300)];++_0x274b78){let _0x43c77a=this[_0xe0208b(0x369)][_0x274b78];_0x43c77a[_0xe0208b(0x1fd)](0.5),_0x43c77a[_0xe0208b(0x2fd)]<=0.2&&(this[_0xe0208b(0x369)][_0xe0208b(0x25f)](_0x274b78,0x1),--_0x274b78);}},Player['prototype'][_0x4aa168(0x230)]=function(_0x705fc5,_0x558cb3){const _0x19e611=_0x4aa168;for(let _0x5cebe7=0x0;_0x5cebe7<this[_0x19e611(0x370)][_0x19e611(0x300)];++_0x5cebe7)this[_0x19e611(0x370)][_0x5cebe7]['x']-=_0x705fc5*segX,this[_0x19e611(0x370)][_0x5cebe7]['y']-=_0x558cb3*segY;};let redrawFunction,drawFunction,drawBricksFunction,updateBricksInViewFunction,imgFire=document[_0x4aa168(0x259)](_0x4aa168(0x344)),imgShield=document['getElementById'](_0x4aa168(0x2bb)),imgChain=document[_0x4aa168(0x259)]('Chain'),imgLock=document[_0x4aa168(0x259)](_0x4aa168(0x374)),imgMagnet=document[_0x4aa168(0x259)](_0x4aa168(0x206)),imgMagnet100=document['getElementById'](_0x4aa168(0x29d)),imgMagnet80=document[_0x4aa168(0x259)]('Magnet80'),imgMagnet60=document[_0x4aa168(0x259)](_0x4aa168(0x36e)),imgMagnet40=document['getElementById'](_0x4aa168(0x298)),imgMagnet20=document[_0x4aa168(0x259)]('Magnet20'),imgMagnet5=document[_0x4aa168(0x259)]('Magnet5'),imgMagnetX=imgMagnet100,imgRotate=document[_0x4aa168(0x259)](_0x4aa168(0x263)),imgGlue=document[_0x4aa168(0x259)](_0x4aa168(0x261)),imgRelease=document[_0x4aa168(0x259)](_0x4aa168(0x2eb)),imgGold=document[_0x4aa168(0x259)](_0x4aa168(0x238)),imgSilver=document[_0x4aa168(0x259)](_0x4aa168(0x29b)),imgBronze=document[_0x4aa168(0x259)](_0x4aa168(0x235)),imgPoint=document[_0x4aa168(0x259)](_0x4aa168(0x27a)),imgPointBig=document[_0x4aa168(0x259)](_0x4aa168(0x306)),imgCoinBig=document[_0x4aa168(0x259)]('CoinBig'),imgBombS=document[_0x4aa168(0x259)]('BombS'),imgBombM=document[_0x4aa168(0x259)]('BombM'),imgBombL=document['getElementById'](_0x4aa168(0x222)),imgWall=document['getElementById'](_0x4aa168(0x2e3)),imgBrickMini=document[_0x4aa168(0x259)](_0x4aa168(0x331)),imgSpeed=document[_0x4aa168(0x259)](_0x4aa168(0x2c1)),imgSpeed100=document['getElementById'](_0x4aa168(0x2c3)),imgSpeed80=document[_0x4aa168(0x259)](_0x4aa168(0x273)),imgSpeed60=document['getElementById'](_0x4aa168(0x31e)),imgSpeed40=document[_0x4aa168(0x259)]('Speed40'),imgSpeed20=document['getElementById'](_0x4aa168(0x2a2)),imgSpeed5=document[_0x4aa168(0x259)](_0x4aa168(0x332)),imgSpeedX=imgSpeed100,imgTime=document[_0x4aa168(0x259)](_0x4aa168(0x367)),imgTime100=document[_0x4aa168(0x259)]('Time100'),imgTime80=document['getElementById'](_0x4aa168(0x23c)),imgTime60=document[_0x4aa168(0x259)](_0x4aa168(0x254)),imgTime40=document[_0x4aa168(0x259)](_0x4aa168(0x1fb)),imgTime20=document[_0x4aa168(0x259)]('Time20'),imgTime5=document[_0x4aa168(0x259)](_0x4aa168(0x363)),imgTimeX=imgTime100,imgShrink=document['getElementById']('Shrink'),imgAntiShrink=document[_0x4aa168(0x259)]('AntiShrink'),imgGift=document[_0x4aa168(0x259)](_0x4aa168(0x2c7)),imgGhost=document[_0x4aa168(0x259)](_0x4aa168(0x297)),imgC1=document[_0x4aa168(0x259)]('c1'),imgC2=document[_0x4aa168(0x259)]('c2'),imgC3=document[_0x4aa168(0x259)]('c3'),imgC4=document[_0x4aa168(0x259)]('c4'),imgC5=document['getElementById']('c5'),imgC6=document[_0x4aa168(0x259)]('c6'),skin0Image=document[_0x4aa168(0x259)](_0x4aa168(0x292)),skin1Image=document[_0x4aa168(0x259)](_0x4aa168(0x301)),skin2Image=document['getElementById'](_0x4aa168(0x2a1)),colorsMode=!0x1,patternFire,patternShield,patternIceWall,patternFireWall,patternChain,patternPoints,ALPHA_DISABLED=0.2,alphaMagnet=0x0,alphaFire=0x0,alphaRotate=0x0,alphaShield=0x0,alphaRelease=0x0,alphaTime=ALPHA_DISABLED,alphaSpeed=ALPHA_DISABLED,alphaShrink=ALPHA_DISABLED;function drawSpellArcColor(_0x2f93d1,_0x584d63,_0x2f36a4,_0xcd8375,_0x2a18f5,_0x5d05e2){const _0x4b4515=_0x4aa168;ctx[_0x4b4515(0x277)](),ctx[_0x4b4515(0x279)](_0x2f93d1,_0x584d63),ctx['fillStyle']=_0x5d05e2,ctx[_0x4b4515(0x2bf)](_0x2f93d1,_0x584d63,_0x2f36a4,_0xcd8375,_0x2a18f5),ctx[_0x4b4515(0x268)](_0x2f93d1,_0x584d63),ctx[_0x4b4515(0x34d)](),ctx[_0x4b4515(0x323)](),ctx[_0x4b4515(0x1ff)]();}function drawCircleColor(_0x50d795,_0x2197b3,_0x336489,_0x3a2f54,_0x315ced,_0x5859c2){const _0x5acfd1=_0x4aa168;ctx['beginPath'](),ctx[_0x5acfd1(0x24f)]=_0x5859c2,ctx[_0x5acfd1(0x2bf)](_0x50d795,_0x2197b3,_0x336489,_0x3a2f54,_0x315ced),ctx[_0x5acfd1(0x34d)](),ctx['stroke'](),ctx[_0x5acfd1(0x1ff)]();}function calculateSpellWheelsDimensions(){const _0x1d3a40=_0x4aa168;if(patternFire=resizePattern(imgFire,(RSpell1=2.3*unit)/0x4),patternShield=resizePattern(imgShield,RSpell1/0x3),patternChain=resizePattern(imgChain,RSpell1/0x2),patternPoints=resizePattern(imgPointBig,RSpell1/0x3),!isMobile)return;RSpell2=RSpell1,RSpell4=RSpell3=0.3*RSpell1,RSpell5=0.3*RSpell2,YSpell2=YSpell1=canvas[_0x1d3a40(0x22c)]-1.2*RSpell1,canvas[_0x1d3a40(0x335)]>canvas[_0x1d3a40(0x22c)]?canvas[_0x1d3a40(0x335)]/canvas[_0x1d3a40(0x22c)]<1.5?(XSpell1=canvas[_0x1d3a40(0x335)]-1.2*RSpell1,XSpell2=hide?1.2*RSpell1:1.55*RSpell1,XSpell3=XSpell1+RSpell1-RSpell3,XSpell4=XSpell1+RSpell1-RSpell4,YSpell3=YSpell1-1.35*RSpell1,YSpell4=YSpell1-2.05*RSpell1):(XSpell1=canvas['width']-2.2*RSpell1,XSpell2=2.2*RSpell1,XSpell3=XSpell1+RSpell1+RSpell3,XSpell4=XSpell1+RSpell1+RSpell4,YSpell3=YSpell1-RSpell1+RSpell3,YSpell4=YSpell1+RSpell1-RSpell4):(XSpell1=canvas[_0x1d3a40(0x335)]-1.1*RSpell1,XSpell2=1.1*RSpell1,XSpell3=XSpell1+RSpell1-RSpell3,XSpell4=XSpell1+RSpell1-RSpell4,YSpell3=YSpell1-1.35*RSpell1,YSpell4=YSpell1-2.05*RSpell1),XSpell5=XSpell2-RSpell2+RSpell5,YSpell5=YSpell2-1.35*RSpell2,RSpell105=0.5*RSpell1,RSpell1020=0.2*RSpell1,RSpell1025=0.25*RSpell1,RSpell1033=0.33*RSpell1,RSpell1083=0.83*RSpell1,RSpell1015=0.15*RSpell1,RSpell1040=0.4*RSpell1;let _0x465ba0=XSpell2-(RSpell1087=0.87*RSpell1),_0x30434c=YSpell2-RSpell105,_0x146a6b=_0x1d3a40(0x2aa)+_0x465ba0+_0x1d3a40(0x2fa)+_0x30434c+_0x1d3a40(0x309)+RSpell1087+'px;height:auto';imgGlue[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),_0x146a6b=_0x1d3a40(0x2aa)+(_0x465ba0=XSpell2+RSpell1015)+_0x1d3a40(0x2fa)+_0x30434c+'px;width:'+RSpell1087+'px;height:auto',imgRelease[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),_0x146a6b=_0x1d3a40(0x2aa)+(_0x465ba0=XSpell1-RSpell1083)+_0x1d3a40(0x2fa)+(_0x30434c=YSpell1-RSpell1025)+_0x1d3a40(0x309)+RSpell105+_0x1d3a40(0x31a),imgMagnet[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),_0x146a6b='position:absolute;left:'+(_0x465ba0=XSpell1+RSpell1033)+_0x1d3a40(0x2fa)+(_0x30434c=YSpell1-RSpell1025)+'px;width:'+RSpell105+_0x1d3a40(0x31a),imgSpeed[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),_0x146a6b='position:absolute;left:'+(_0x465ba0=XSpell1-RSpell1025)+_0x1d3a40(0x2fa)+(_0x30434c=YSpell1-RSpell1083)+'px;width:'+RSpell105+_0x1d3a40(0x31a),imgRotate[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),_0x146a6b=_0x1d3a40(0x2aa)+(_0x465ba0=XSpell1-RSpell1025)+_0x1d3a40(0x2fa)+(_0x30434c=YSpell1+RSpell1025)+_0x1d3a40(0x309)+RSpell105+_0x1d3a40(0x31a),imgFire[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),_0x146a6b='position:absolute;left:'+(_0x465ba0=XSpell5-RSpell1020)+'px;top:'+(_0x30434c=YSpell5-RSpell1020)+_0x1d3a40(0x309)+RSpell1040+_0x1d3a40(0x31a),imgShrink[_0x1d3a40(0x255)]('style',_0x146a6b),_0x146a6b=_0x1d3a40(0x2aa)+(_0x465ba0=XSpell4-RSpell1020)+_0x1d3a40(0x2fa)+(_0x30434c=YSpell4-RSpell1020)+_0x1d3a40(0x309)+RSpell1040+_0x1d3a40(0x31a),imgTime['setAttribute']('style',_0x146a6b),_0x146a6b='position:absolute;left:'+(_0x465ba0=XSpell3-RSpell1020)+'px;top:'+(_0x30434c=YSpell3-RSpell1020)+_0x1d3a40(0x309)+RSpell1040+_0x1d3a40(0x31a),imgShield[_0x1d3a40(0x255)](_0x1d3a40(0x328),_0x146a6b),0x1===alphaRelease?imgRelease[_0x1d3a40(0x328)][_0x1d3a40(0x266)]=_0x1d3a40(0x226):imgRelease[_0x1d3a40(0x328)]['visibility']=_0x1d3a40(0x22e),imgMagnet[_0x1d3a40(0x328)]['opacity']=alphaMagnet,imgFire['style'][_0x1d3a40(0x36f)]=alphaFire,imgShield[_0x1d3a40(0x328)][_0x1d3a40(0x36f)]=alphaShield,imgRotate[_0x1d3a40(0x328)][_0x1d3a40(0x36f)]=alphaRotate,imgShrink[_0x1d3a40(0x328)]['opacity']=alphaShrink,imgSpeed[_0x1d3a40(0x328)][_0x1d3a40(0x36f)]=alphaSpeed,imgTime[_0x1d3a40(0x328)][_0x1d3a40(0x36f)]=alphaTime;}function drawSpellWheels(){const _0x8e488a=_0x4aa168;ctx[_0x8e488a(0x251)]=0.9,ctx[_0x8e488a(0x2ff)]=0x3,ctx[_0x8e488a(0x20a)]=_0x8e488a(0x330),drawSpellArcColor(XSpell1,YSpell1,RSpell1,angleEast1,angleSouth1,_0x8e488a(0x295)),drawSpellArcColor(XSpell1,YSpell1,RSpell1,angleSouth1,angleWest1,_0x8e488a(0x295)),drawSpellArcColor(XSpell1,YSpell1,RSpell1,angleWest1,angleNorth1,'rgba(0,0,0,0.5)'),drawSpellArcColor(XSpell1,YSpell1,RSpell1,angleNorth1,angleEast1,_0x8e488a(0x295)),spellsEnabled[_0x8e488a(0x2c5)](SHRINKBIT)&&drawCircleColor(XSpell5,YSpell5,RSpell5,0x0,0x2*Math['PI'],_0x8e488a(0x295)),spellsEnabled[_0x8e488a(0x2c5)](TIMEBIT)&&drawCircleColor(XSpell4,YSpell4,RSpell4,0x0,0x2*Math['PI'],'rgba(0,0,0,0.5)'),drawSpellArcColor(XSpell2,YSpell2,RSpell2,angleNorth2,angleSouth2,_0x8e488a(0x295)),drawSpellArcColor(XSpell2,YSpell2,RSpell2,angleSouth2,angleNorth2,'rgba(0,0,0,0.5)'),ctx[_0x8e488a(0x251)]=0x1;}let segX,segY,sizeIcon,segXCurve,segYCurve,endMarginX,endMarginY,startMarginX,startMarginY,xMiniCanvas,yMiniCanvas,wMini,hMini,segXM,segYM,meXsegX,meYsegY,meXsegXmeSIZEsegX,meYsegYmeSIZEsegY,midCurrentViewX,midCurrentViewY,XMini,YMini,endXMini,endYMini,meSIZEXMini,meSIZEYMini,mePOSXMini,mePOSYMini,fontUnit,offLock,offUnshrinkable;function createOffRect(_0x3838b8,_0x443eb9,_0x55999f){const _0x4b39a0=_0x4aa168;var _0x2205ae=document[_0x4b39a0(0x352)](_0x4b39a0(0x252));return _0x2205ae[_0x4b39a0(0x335)]=_0x443eb9,_0x2205ae[_0x4b39a0(0x22c)]=_0x55999f,_0x2205ae['getContext']('2d')[_0x4b39a0(0x271)](_0x3838b8,0x0,0x0,_0x443eb9,_0x55999f),_0x2205ae;}function calculateDrawParams(){const _0x3dfe87=_0x4aa168;endMarginX=currentViewSizeX,endMarginY=currentViewSizeY,startMarginX=0x0,startMarginY=0x0,sizeIcon=Math[_0x3dfe87(0x2af)](segX=canvas[_0x3dfe87(0x335)]/currentViewSizeX,segY=canvas[_0x3dfe87(0x22c)]/currentViewSizeY),calculateIconSize(),segXCurve=segX/0x18,segYCurve=segY/0x18,calculateMeXY(),xMiniCanvas=Math[_0x3dfe87(0x351)](canvas[_0x3dfe87(0x335)]*MiniX),yMiniCanvas=1.45*unit,wMini=Math[_0x3dfe87(0x351)](canvas[_0x3dfe87(0x335)]*MiniWidth),hMini=Math[_0x3dfe87(0x351)](canvas[_0x3dfe87(0x22c)]*MiniHeight),segXM=wMini/(0x2*MiniW2),segYM=hMini/(0x2*MiniH2),meSIZEXMini=me[_0x3dfe87(0x293)]*segXM,meSIZEYMini=me[_0x3dfe87(0x293)]*segYM,mePOSXMini=xMiniCanvas+wMini/0x2-meSIZEXMini/0x2,mePOSYMini=yMiniCanvas+hMini/0x2-meSIZEYMini/0x2,fontUnit=unit+_0x3dfe87(0x2fc),ctx['font']=fontUnit,offLock=createOffRect(imgLock,unit,unit),offUnshrinkable=createOffRect(imgAntiShrink,unit,unit),me['Size']>=0x18?(intro?drawFunction=drawIntro:(drawFunction=drawPerformance,calculatePlayerText()),updateBricksInViewFunction=updateBricksInView):(intro?drawFunction=drawIntro:(drawFunction=drawVisual,calculatePlayerText(),patternIceWall=resizePattern(imgShield,segX),patternFireWall=resizePattern(imgFire,segY)),updateBricksInViewFunction=updateBricksInViewWithMinimap),players[_0x3dfe87(0x29a)](function _0x5dff81(_0x1c58e2){const _0x2d5ab7=_0x3dfe87;_0x1c58e2[_0x2d5ab7(0x2a8)]();}),updateColorsMode();}function drawBricks(){const _0x28a503=_0x4aa168;let _0x287f3a=0x0,_0x548d2c=0x0,_0x2b6288=0x0,_0x3928d9=0x0,_0x521b25=0x0;animCounter<0x3c?_0x287f3a=coinSize*Math[_0x28a503(0x351)](animCounter/7.5):(_0x287f3a=0x0,animCounter<0x78?_0x548d2c=coinSize*Math[_0x28a503(0x351)]((animCounter-0x3c)/7.5):(_0x548d2c=0x0,animCounter<0xb4?_0x2b6288=coinSize*Math[_0x28a503(0x351)]((animCounter-0x78)/7.5):(_0x2b6288=0x0,animCounter<0xf0?_0x3928d9=coinSize*Math['floor']((animCounter-0xb4)/0x2):(_0x3928d9=0x0,_0x521b25=animCounter<0x1e0?coinSize*Math['floor']((animCounter-0xf0)/0x5):0x0)))),bricksInViewFree[_0x28a503(0x2fd)]>0x0&&(ctx[_0x28a503(0x24f)]=brickStyle,ctx[_0x28a503(0x277)](),bricksInViewFree['forEach'](function _0x3b54d2(_0x4da859){const _0x3aed06=_0x28a503;let _0x4d634a=_0x4da859['X']-currentViewX,_0x4f819c=_0x4da859['Y']-currentViewY,_0x52d8ad=_0x4d634a*segX,_0x3c2325=_0x4f819c*segY,_0x3994fb=_0x52d8ad+(segX-sizeIcon)/0x2,_0x30641c=_0x3c2325+(segY-sizeIcon)/0x2;if(_0x4da859['ID']<0x62||_0x4da859['ID']%0xf==0x0||_0x4da859['ID']%0x14==0x0||_0x4da859['ID']%0xa==0x0||_0x4da859['ID']%0x64==0x0||_0x4da859['ID']%0x6f==0x0||_0x4da859['ID']%0x97==0x0||_0x4da859['ID']%0xfb==0x0||_0x4da859['ID']%0x1f3==0x0||_0x4da859['ID']%0x15d==0x0||ctx[_0x3aed06(0x203)](_0x52d8ad,_0x3c2325,segX,segY),_0x4da859['ID']<0x60)ctx[_0x3aed06(0x271)](imgWall,0x0,0x0,coinSize,coinSize,_0x52d8ad,_0x3c2325,segX,segY);else{if(0x60==_0x4da859['ID'])ctx['drawImage'](imgPointBig,0x0,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);else{if(0x61==_0x4da859['ID'])ctx[_0x3aed06(0x271)](imgCoinBig,0x0,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);else{if(_0x4da859['ID']%0x1f3==0x0)ctx[_0x3aed06(0x271)](imgTimeX,0x0,0x0,flexSize,flexSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);else{if(_0x4da859['ID']%0x15d==0x0)ctx[_0x3aed06(0x271)](imgSpeedX,0x0,0x0,flexSize,flexSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);else{if(_0x4da859['ID']%0xfb==0x0)ctx[_0x3aed06(0x271)](imgMagnetX,0x0,0x0,flexSize,flexSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);else{if(_0x4da859['ID']%0x64==0x0)ctx[_0x3aed06(0x271)](imgGhost,_0x521b25,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);else{if(_0x4da859['ID']%0x97==0x0){let _0x4d4064=_0x4da859['ID']/0x97;_0x4d4064%bomblarge==0x0?ctx[_0x3aed06(0x271)](imgBombL,0x0,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon):_0x4d4064%bombmedium==0x0?ctx['drawImage'](imgBombM,0x0,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon):ctx['drawImage'](imgBombS,0x0,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);}else _0x4da859['ID']%0x6f==0x0?ctx[_0x3aed06(0x271)](imgGift,_0x3928d9,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon):_0x4da859['ID']%0x14==0x0?ctx[_0x3aed06(0x271)](imgSilver,_0x548d2c,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon):_0x4da859['ID']%0xf==0x0?ctx['drawImage'](imgBronze,_0x2b6288,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon):_0x4da859['ID']%0xa==0x0&&ctx['drawImage'](imgGold,_0x287f3a,0x0,coinSize,coinSize,_0x3994fb,_0x30641c,sizeIcon,sizeIcon);}}}}}}}}),shadows?(ctx['shadowColor']=shadowColor,ctx[_0x28a503(0x34d)](),ctx[_0x28a503(0x2cb)]=_0x28a503(0x2d6)):ctx['fill']()),bricksInViewMe['size']>0x0&&(ctx['fillStyle']=me['fillStyle'],ctx['beginPath'](),bricksInViewMe[_0x28a503(0x29a)](function _0x55562e(_0x580af0){const _0x10d758=_0x28a503;let _0x2a11d0=_0x580af0['X']-currentViewX,_0x132b1b=_0x580af0['Y']-currentViewY,_0x2d323c=_0x2a11d0*segX,_0x35b42e=_0x132b1b*segY;ctx[_0x10d758(0x203)](_0x2d323c,_0x35b42e,segX,segY);}),shadows?(ctx[_0x28a503(0x2cb)]=shadowColor,ctx['fill'](),ctx[_0x28a503(0x2cb)]='transparent'):ctx['fill'](),-0x1!==me[_0x28a503(0x322)]&&(ctx['fillStyle']=me['patternSkin'],ctx[_0x28a503(0x269)](meXsegX,meYsegY),ctx[_0x28a503(0x277)](),bricksInViewMe[_0x28a503(0x29a)](function _0x1b6b7a(_0x8d1cf0){const _0x2e9923=_0x28a503;let _0x228bfb=_0x8d1cf0['X']-currentViewX,_0x2629d0=_0x8d1cf0['Y']-currentViewY,_0x24d517=_0x228bfb*segX-meXsegX,_0x162427=_0x2629d0*segY-meYsegY;ctx[_0x2e9923(0x203)](_0x24d517,_0x162427,segX,segY);}),ctx[_0x28a503(0x34d)](),ctx['translate'](-meXsegX,-meYsegY)),bricksInViewMe[_0x28a503(0x29a)](function _0x52829f(_0x41142a){const _0x33a2bb=_0x28a503;let _0x12f79c=_0x41142a['X']-currentViewX,_0x168ab3=_0x41142a['Y']-currentViewY,_0x4e8e6c=_0x12f79c*segX+(segX-sizeIcon)/0x2,_0xe3e3ad=_0x168ab3*segY+(segY-sizeIcon)/0x2;if(_0x41142a['ID']%0x64==0x0)ctx[_0x33a2bb(0x271)](imgGhost,_0x521b25,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon);else{if(_0x41142a['ID']%0x97==0x0){let _0x41af40=_0x41142a['ID']/0x97;_0x41af40%bomblarge==0x0?ctx[_0x33a2bb(0x271)](imgBombL,0x0,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon):_0x41af40%bombmedium==0x0?ctx[_0x33a2bb(0x271)](imgBombM,0x0,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon):ctx[_0x33a2bb(0x271)](imgBombS,0x0,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon);}else _0x41142a['ID']%0x6f==0x0?ctx[_0x33a2bb(0x271)](imgGift,_0x3928d9,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon):_0x41142a['ID']%0x14==0x0?ctx[_0x33a2bb(0x271)](imgSilver,_0x548d2c,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon):_0x41142a['ID']%0xf==0x0?ctx[_0x33a2bb(0x271)](imgBronze,_0x2b6288,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon):_0x41142a['ID']%0xa==0x0&&ctx[_0x33a2bb(0x271)](imgGold,_0x287f3a,0x0,coinSize,coinSize,_0x4e8e6c,_0xe3e3ad,sizeIcon,sizeIcon);}}),!0x0===me[_0x28a503(0x344)]&&(ctx['fillStyle']=patternFire,ctx[_0x28a503(0x277)](),bricksInViewMe[_0x28a503(0x29a)](function _0x5c6f0b(_0x466e38){const _0x1068f7=_0x28a503;let _0x375361=_0x466e38['X']-currentViewX,_0x215654=_0x466e38['Y']-currentViewY,_0x2ca7c3=_0x375361*segX,_0x387ed8=_0x215654*segY;ctx[_0x1068f7(0x203)](_0x2ca7c3,_0x387ed8,segX,segY);}),ctx[_0x28a503(0x34d)]()));}function drawBricksColors(){const _0x4d9fe4=_0x4aa168;let _0x2e0574=0x0,_0x4b4fce=0x0,_0xb6ebe4=0x0,_0xbb86dc=0x0,_0x5bc516=0x0;animCounter<0x3c?_0x2e0574=coinSize*Math['floor'](animCounter/7.5):(_0x2e0574=0x0,animCounter<0x78?_0x4b4fce=coinSize*Math['floor']((animCounter-0x3c)/7.5):(_0x4b4fce=0x0,animCounter<0xb4?_0xb6ebe4=coinSize*Math[_0x4d9fe4(0x351)]((animCounter-0x78)/7.5):(_0xb6ebe4=0x0,animCounter<0xf0?_0xbb86dc=coinSize*Math['floor']((animCounter-0xb4)/0x2):(_0xbb86dc=0x0,_0x5bc516=animCounter<0x1e0?coinSize*Math[_0x4d9fe4(0x351)]((animCounter-0xf0)/0x5):0x0)))),bricksInViewFree['size']>0x0&&bricksInViewFree[_0x4d9fe4(0x29a)](function _0x14fdfa(_0x359ada){const _0x5c12b9=_0x4d9fe4;let _0x1250b8=_0x359ada['X']-currentViewX,_0x4fdafb=_0x359ada['Y']-currentViewY,_0x52fe33=_0x1250b8*segX,_0x495740=_0x4fdafb*segY,_0x1c0353=_0x52fe33+(segX-sizeIcon)/0x2,_0x4b4cce=_0x495740+(segY-sizeIcon)/0x2;if(_0x359ada['ID']<0x62||_0x359ada['ID']%0xf==0x0||_0x359ada['ID']%0x14==0x0||_0x359ada['ID']%0xa==0x0||_0x359ada['ID']%0x64==0x0||_0x359ada['ID']%0x6f==0x0||_0x359ada['ID']%0x97==0x0||_0x359ada['ID']%0xfb==0x0||_0x359ada['ID']%0x1f3==0x0||_0x359ada['ID']%0x15d==0x0||(_0x359ada['ID']%0x4==0x0?ctx['drawImage'](imgC1,_0x52fe33,_0x495740,segX,segY):_0x359ada['ID']%0x4==0x1?ctx[_0x5c12b9(0x271)](imgC2,_0x52fe33,_0x495740,segX,segY):_0x359ada['ID']%0x4==0x2?ctx[_0x5c12b9(0x271)](imgC3,_0x52fe33,_0x495740,segX,segY):_0x359ada['ID']%0x4==0x3&&ctx['drawImage'](imgC4,_0x52fe33,_0x495740,segX,segY)),_0x359ada['ID']<0x60)ctx[_0x5c12b9(0x271)](imgWall,0x0,0x0,coinSize,coinSize,_0x52fe33,_0x495740,segX,segY);else{if(0x60==_0x359ada['ID'])ctx[_0x5c12b9(0x271)](imgPointBig,0x0,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);else{if(0x61==_0x359ada['ID'])ctx[_0x5c12b9(0x271)](imgCoinBig,0x0,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);else{if(_0x359ada['ID']%0x1f3==0x0)ctx[_0x5c12b9(0x271)](imgTimeX,0x0,0x0,flexSize,flexSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);else{if(_0x359ada['ID']%0x15d==0x0)ctx[_0x5c12b9(0x271)](imgSpeedX,0x0,0x0,flexSize,flexSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);else{if(_0x359ada['ID']%0xfb==0x0)ctx[_0x5c12b9(0x271)](imgMagnetX,0x0,0x0,flexSize,flexSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);else{if(_0x359ada['ID']%0x64==0x0)ctx[_0x5c12b9(0x271)](imgGhost,_0x5bc516,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);else{if(_0x359ada['ID']%0x97==0x0){let _0x3d6410=_0x359ada['ID']/0x97;_0x3d6410%bomblarge==0x0?ctx['drawImage'](imgBombL,0x0,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon):_0x3d6410%bombmedium==0x0?ctx[_0x5c12b9(0x271)](imgBombM,0x0,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon):ctx[_0x5c12b9(0x271)](imgBombS,0x0,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);}else _0x359ada['ID']%0x6f==0x0?ctx[_0x5c12b9(0x271)](imgGift,_0xbb86dc,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon):_0x359ada['ID']%0x14==0x0?ctx['drawImage'](imgSilver,_0x4b4fce,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon):_0x359ada['ID']%0xf==0x0?ctx[_0x5c12b9(0x271)](imgBronze,_0xb6ebe4,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon):_0x359ada['ID']%0xa==0x0&&ctx[_0x5c12b9(0x271)](imgGold,_0x2e0574,0x0,coinSize,coinSize,_0x1c0353,_0x4b4cce,sizeIcon,sizeIcon);}}}}}}}}),bricksInViewMe[_0x4d9fe4(0x2fd)]>0x0&&(bricksInViewMe['forEach'](function _0x23b300(_0x507805){const _0x41ab79=_0x4d9fe4;let _0x3ea450=_0x507805['X']-currentViewX,_0x23209e=_0x507805['Y']-currentViewY,_0x5f4fb8=_0x3ea450*segX,_0x3b46d7=_0x23209e*segY,_0x205da9=_0x5f4fb8+(segX-sizeIcon)/0x2,_0x594d19=_0x3b46d7+(segY-sizeIcon)/0x2;if(ctx[_0x41ab79(0x271)](imgC6,_0x5f4fb8,_0x3b46d7,segX,segY),_0x507805['ID']%0x64==0x0)ctx[_0x41ab79(0x271)](imgGhost,_0x5bc516,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon);else{if(_0x507805['ID']%0x97==0x0){let _0x272836=_0x507805['ID']/0x97;_0x272836%bomblarge==0x0?ctx[_0x41ab79(0x271)](imgBombL,0x0,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon):_0x272836%bombmedium==0x0?ctx[_0x41ab79(0x271)](imgBombM,0x0,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon):ctx['drawImage'](imgBombS,0x0,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon);}else _0x507805['ID']%0x6f==0x0?ctx[_0x41ab79(0x271)](imgGift,_0xbb86dc,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon):_0x507805['ID']%0x14==0x0?ctx[_0x41ab79(0x271)](imgSilver,_0x4b4fce,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon):_0x507805['ID']%0xf==0x0?ctx[_0x41ab79(0x271)](imgBronze,_0xb6ebe4,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon):_0x507805['ID']%0xa==0x0&&ctx[_0x41ab79(0x271)](imgGold,_0x2e0574,0x0,coinSize,coinSize,_0x205da9,_0x594d19,sizeIcon,sizeIcon);}}),!0x0===me['Fire']&&(ctx['fillStyle']=patternFire,ctx['beginPath'](),bricksInViewMe['forEach'](function _0x4336f0(_0x2c341c){const _0x79f383=_0x4d9fe4;let _0x5e8e9e=_0x2c341c['X']-currentViewX,_0x4c0c98=_0x2c341c['Y']-currentViewY,_0x5b219c=_0x5e8e9e*segX,_0x1e389a=_0x4c0c98*segY;ctx[_0x79f383(0x203)](_0x5b219c,_0x1e389a,segX,segY);}),ctx[_0x4d9fe4(0x34d)]()));}function drawFields(){const _0x480868=_0x4aa168;if(fieldPointsSize>0x0&&doOverlap(fieldPointsX,fieldPointsY,fieldPointsXEnd,fieldPointsYEnd,currentViewX,currentViewY,currentViewX+currentViewSizeX,currentViewY+currentViewSizeY)){let _0x58ecb5=(fieldPointsX-currentViewX)*segX,_0x155f90=(fieldPointsY-currentViewY)*segY,_0x14623e=fieldPointsSize*segX,_0xef2e99=fieldPointsSize*segY;ctx['fillStyle']=patternPoints,ctx['globalAlpha']=0.35,ctx[_0x480868(0x2b9)](_0x58ecb5,_0x155f90,_0x14623e,_0xef2e99),ctx[_0x480868(0x251)]=0x1;}if(fieldIceSize>0x0&&doOverlap(fieldIceX,fieldIceY,fieldIceXEnd,fieldIceYEnd,currentViewX,currentViewY,currentViewX+currentViewSizeX,currentViewY+currentViewSizeY)){let _0x5345f3=(fieldIceX-currentViewX)*segX,_0x2f6e92=(fieldIceY-currentViewY)*segY,_0xbab1a5=fieldIceSize*segX,_0x4b55d8=fieldIceSize*segY;ctx['fillStyle']=patternShield,ctx[_0x480868(0x2b9)](_0x5345f3,_0x2f6e92,_0xbab1a5,_0x4b55d8);}if(wallXY>=currentViewX&&wallXY<=currentViewX+currentViewSizeX){let _0xebc22=(wallXY-currentViewX)*segX;ctx[_0x480868(0x24f)]=patternIceWall,ctx[_0x480868(0x269)](_0xebc22,0x0),ctx[_0x480868(0x2b9)](0x0,0x0,segX,currentViewSizeY*segY),ctx[_0x480868(0x269)](-_0xebc22,0x0);}if(wallXY>=currentViewY&&wallXY<=currentViewY+currentViewSizeY){let _0x1a0c59=(wallXY-currentViewY)*segY;ctx[_0x480868(0x24f)]=patternFireWall,ctx[_0x480868(0x269)](0x0,_0x1a0c59),ctx['fillRect'](0x0,0x0,currentViewSizeX*segX,segY),ctx[_0x480868(0x269)](0x0,-_0x1a0c59);}if(fieldFireSize>0x0&&doOverlap(fieldFireX,fieldFireY,fieldFireXEnd,fieldFireYEnd,currentViewX,currentViewY,currentViewX+currentViewSizeX,currentViewY+currentViewSizeY)){let _0x23f354=(fieldFireX-currentViewX)*segX,_0x328b85=(fieldFireY-currentViewY)*segY,_0x434d45=fieldFireSize*segX,_0x4d954a=fieldFireSize*segY;ctx[_0x480868(0x24f)]=patternFire,ctx[_0x480868(0x2b9)](_0x23f354,_0x328b85,_0x434d45,_0x4d954a);}}function drawGrid(){const _0x3af8da=_0x4aa168;0x200-currentViewX<=currentViewSizeX&&(endMarginX=0x200-currentViewX,ctx['lineWidth']=0x3,ctx[_0x3af8da(0x20a)]=_0x3af8da(0x330),ctx[_0x3af8da(0x277)](),ctx[_0x3af8da(0x279)](segX*endMarginX,0x0),ctx[_0x3af8da(0x268)](segX*endMarginX,canvas[_0x3af8da(0x22c)]),ctx[_0x3af8da(0x323)]()),currentViewX<=0x0&&(startMarginX=-currentViewX,ctx['lineWidth']=0x3,ctx[_0x3af8da(0x20a)]=_0x3af8da(0x330),ctx['beginPath'](),ctx[_0x3af8da(0x279)](segX*startMarginX,0x0),ctx[_0x3af8da(0x268)](segX*startMarginX,canvas[_0x3af8da(0x22c)]),ctx[_0x3af8da(0x323)]()),0x200-currentViewY<=currentViewSizeY&&(endMarginY=0x200-currentViewY,ctx[_0x3af8da(0x2ff)]=0x3,ctx['strokeStyle']=_0x3af8da(0x330),ctx['beginPath'](),ctx[_0x3af8da(0x279)](0x0,segY*endMarginY),ctx[_0x3af8da(0x268)](canvas[_0x3af8da(0x335)],segY*endMarginY),ctx[_0x3af8da(0x323)]()),currentViewY<=0x0&&(startMarginY=-currentViewY,ctx[_0x3af8da(0x2ff)]=0x3,ctx[_0x3af8da(0x20a)]='black',ctx[_0x3af8da(0x277)](),ctx['moveTo'](0x0,segY*startMarginY),ctx[_0x3af8da(0x268)](canvas['width'],segY*startMarginY),ctx[_0x3af8da(0x323)]()),ctx[_0x3af8da(0x2ff)]=0x1,ctx['beginPath'](),ctx[_0x3af8da(0x20a)]=gridMarkerColor;for(let _0x3ede28=startMarginX+0x1;_0x3ede28<endMarginX;_0x3ede28++)(_0x3ede28+currentViewX)%gridMarkerDensity==0x0&&(ctx['moveTo'](segX*_0x3ede28,0x0),ctx[_0x3af8da(0x268)](segX*_0x3ede28,canvas[_0x3af8da(0x22c)]));for(let _0x5bc48d=startMarginY+0x1;_0x5bc48d<endMarginY;_0x5bc48d++)(_0x5bc48d+currentViewY)%gridMarkerDensity==0x0&&(ctx[_0x3af8da(0x279)](0x0,segY*_0x5bc48d),ctx['lineTo'](canvas[_0x3af8da(0x335)],segY*_0x5bc48d));ctx[_0x3af8da(0x323)](),ctx['beginPath'](),ctx[_0x3af8da(0x20a)]=gridColor;for(let _0x116080=startMarginX+0x1;_0x116080<endMarginX;_0x116080++)(_0x116080+currentViewX)%gridMarkerDensity!=0x0&&(ctx[_0x3af8da(0x279)](segX*_0x116080,0x0),ctx[_0x3af8da(0x268)](segX*_0x116080,canvas['height']));for(let _0x5c5424=startMarginY+0x1;_0x5c5424<endMarginY;_0x5c5424++)(_0x5c5424+currentViewY)%gridMarkerDensity!=0x0&&(ctx[_0x3af8da(0x279)](0x0,segY*_0x5c5424),ctx[_0x3af8da(0x268)](canvas['width'],segY*_0x5c5424));ctx['stroke']();}function drawPlayers(){const _0x291132=_0x4aa168;players[_0x291132(0x29a)](function _0x3ecb4a(_0x592e1e){const _0x47f1d3=_0x291132;_0x592e1e['drawParticles']();let _0x5d0fca=_0x592e1e['X']-currentViewX,_0x5f193e=_0x592e1e['Y']-currentViewY,_0x38807e=_0x5d0fca*segX,_0x36be21=_0x5f193e*segY,_0x4c096e=_0x592e1e[_0x47f1d3(0x293)]*segX,_0x159dbf=_0x592e1e[_0x47f1d3(0x293)]*segY,_0x16e06d=_0x38807e+_0x4c096e,_0x461168=_0x36be21+_0x159dbf;if(ctx['strokeStyle']=_0x592e1e[_0x47f1d3(0x20a)],ctx[_0x47f1d3(0x2ff)]=_0x592e1e[_0x47f1d3(0x2ff)],ctx[_0x47f1d3(0x2cb)]=shadowColor,-0x1!==curDir?(ctx[_0x47f1d3(0x365)]=0x6,ctx[_0x47f1d3(0x30e)]=shadowOffSets[curDir][0x0],ctx['shadowOffsetY']=shadowOffSets[curDir][0x1]):(ctx[_0x47f1d3(0x365)]=0x4,ctx[_0x47f1d3(0x30e)]=0x5,ctx[_0x47f1d3(0x35f)]=0x5),ctx[_0x47f1d3(0x277)](),ctx[_0x47f1d3(0x279)](_0x38807e,_0x36be21),_0x592e1e['ID']!==myId)ctx[_0x47f1d3(0x268)](_0x38807e,_0x461168),ctx[_0x47f1d3(0x268)](_0x16e06d,_0x461168),ctx[_0x47f1d3(0x268)](_0x16e06d,_0x36be21),ctx[_0x47f1d3(0x268)](_0x38807e,_0x36be21);else{if(curDir===LEFT||curDir===SW||curDir===NW){let _0x5947d5=_0x38807e-segXCurve;ctx[_0x47f1d3(0x23d)](_0x5947d5,_0x36be21,_0x5947d5,_0x461168,_0x38807e,_0x461168);}else ctx[_0x47f1d3(0x268)](_0x38807e,_0x461168);if(curDir===DOWN||curDir===SE||curDir===SW){let _0x28b9de=_0x461168+segYCurve;ctx[_0x47f1d3(0x23d)](_0x38807e,_0x28b9de,_0x16e06d,_0x28b9de,_0x16e06d,_0x461168);}else ctx[_0x47f1d3(0x268)](_0x16e06d,_0x461168);if(curDir===RIGHT||curDir===NE||curDir===SE){let _0x5e2451=_0x16e06d+segXCurve;ctx[_0x47f1d3(0x23d)](_0x5e2451,_0x461168,_0x5e2451,_0x36be21,_0x16e06d,_0x36be21);}else ctx['lineTo'](_0x16e06d,_0x36be21);if(curDir===UP||curDir===NW||curDir===NE){let _0x377337=_0x36be21-segYCurve;ctx[_0x47f1d3(0x23d)](_0x16e06d,_0x377337,_0x38807e,_0x377337,_0x38807e,_0x36be21);}else ctx['lineTo'](_0x38807e,_0x36be21);}ctx[_0x47f1d3(0x323)](),ctx[_0x47f1d3(0x2cb)]='transparent',_0x592e1e['Chain']&&(ctx['fillStyle']=patternChain,ctx['globalAlpha']=0.25,ctx[_0x47f1d3(0x34d)](),ctx[_0x47f1d3(0x251)]=0x1);});}function calculatePlayerText(){const _0x2e2c29=_0x4aa168;let _0x3bb113=(me['Y']-currentViewY)*segY-1.05*unit;playerText[_0x2e2c29(0x346)]({'font':fontUnit,'left':meXsegX+'px','top':_0x3bb113+'px'}),_0x3bb113=meYsegYmeSIZEsegY-(me['Size']/0x2+0x1)*segY;let _0x5e7f5d=meXsegXmeSIZEsegX;meXsegXmeSIZEsegX+playerTextTTL[_0x2e2c29(0x335)]()>canvas['width']&&(_0x5e7f5d=meXsegXmeSIZEsegX-playerTextTTL[_0x2e2c29(0x335)]()),playerTextTTL[_0x2e2c29(0x346)]({'font':fontUnit,'left':_0x5e7f5d+'px','top':_0x3bb113+'px'});}function drawMinimap(){const _0x323656=_0x4aa168;ctx[_0x323656(0x251)]=0.65,ctx[_0x323656(0x277)](),ctx[_0x323656(0x203)](xMiniCanvas,yMiniCanvas,wMini,hMini),ctx[_0x323656(0x24f)]=_0x323656(0x282),ctx['fill'](),ctx[_0x323656(0x20a)]=_0x323656(0x330),ctx['lineWidth']=0x3,ctx[_0x323656(0x323)](),ctx[_0x323656(0x277)](),ctx[_0x323656(0x20a)]=_0x323656(0x315),ctx[_0x323656(0x203)](mePOSXMini,mePOSYMini,meSIZEXMini,meSIZEYMini),ctx['stroke'](),bricksInMini[_0x323656(0x29a)](function _0x21ce79(_0x1006b8){const _0x161a46=_0x323656;let _0x2520fd=_0x1006b8['X']-XMini,_0x368810=_0x1006b8['Y']-YMini,_0x200ee4=xMiniCanvas+_0x2520fd*segXM,_0x524fb6=yMiniCanvas+_0x368810*segYM;ctx[_0x161a46(0x271)](imgBrickMini,_0x200ee4,_0x524fb6,segXM,segYM);}),ctx[_0x323656(0x251)]=0x1;}function redrawScalePc(){const _0x1619ee=_0x4aa168;ctx[_0x1619ee(0x21d)](0x0,0x0,canvas['width'],canvas['height']),drawFunction();}function redrawScaleMobile(){const _0x182abd=_0x4aa168;ctx[_0x182abd(0x21d)](0x0,0x0,canvas['width'],canvas[_0x182abd(0x22c)]),drawFunction(),drawSpellWheels();}function drawVisual(){drawFields(),drawBricksFunction(),drawGrid(),drawPlayers(),drawMinimap();}function drawIntro(){drawBricksFunction(),drawGrid();}function drawPerformance(){drawFields(),drawBricksFunction(),drawGrid(),drawPlayers();}function handleShadows(_0x3a0bf0){const _0x38ebf1=_0x4aa168;shadows=_0x3a0bf0[_0x38ebf1(0x321)],document[_0x38ebf1(0x259)]('shadowsCb')[_0x38ebf1(0x2e4)]();}function handleGlue(_0x2d317c){const _0xc8c48e=_0x4aa168;let _0x700a29=_0x2d317c[_0xc8c48e(0x321)];_0x2d317c[_0xc8c48e(0x2e4)](),_0x700a29?(canvas[_0xc8c48e(0x23e)](_0xc8c48e(0x2b6),handleStartNoGlue,!0x1),canvas[_0xc8c48e(0x299)]('touchstart',handleStart,!0x1),canvas[_0xc8c48e(0x23e)](_0xc8c48e(0x2e1),handleMouseDownNoGlue,!0x1),canvas['addEventListener'](_0xc8c48e(0x2e1),handleMouseDown,!0x1),mouseDownHandler=handleMouseDown):(canvas[_0xc8c48e(0x23e)](_0xc8c48e(0x2b6),handleStart,!0x1),canvas[_0xc8c48e(0x299)](_0xc8c48e(0x2b6),handleStartNoGlue,!0x1),canvas[_0xc8c48e(0x23e)]('mousedown',handleMouseDown,!0x1),canvas[_0xc8c48e(0x299)](_0xc8c48e(0x2e1),handleMouseDownNoGlue,!0x1),mouseDownHandler=handleMouseDownNoGlue);}function handleDark(_0x5d6152){const _0xa3f3ca=_0x4aa168;let _0x22e2f7=_0x5d6152['checked'];document['getElementById']('darkCb')[_0xa3f3ca(0x2e4)](),_0x22e2f7?(gamecanvas['css'](cssDark),gridColor=gridColorDark,gridMarkerColor=gridMarkerColorDark,shadowColor=shadowColorDark):(gamecanvas[_0xa3f3ca(0x346)](cssLight),gridColor=gridColorLight,gridMarkerColor=gridMarkerColorLight,shadowColor=shadowColorLight);}function handleColors(_0x581740){const _0x35e19b=_0x4aa168;colorsMode=_0x581740[_0x35e19b(0x321)],(document[_0x35e19b(0x259)](_0x35e19b(0x36d))[_0x35e19b(0x2e4)](),updateColorsMode());}function handleHide(_0x12c68d){const _0x21f986=_0x4aa168;hide=_0x12c68d[_0x21f986(0x321)],(document[_0x21f986(0x259)](_0x21f986(0x288))['blur'](),hide?(helpcollapsed[_0x21f986(0x2d5)](),scoreexpand['hide'](),scorecollapsed[_0x21f986(0x2d5)](),leftpanel[_0x21f986(0x2d5)]()):(scorecollapsed['show'](),leftpanel[_0x21f986(0x2ac)]()),calculateSpellWheelsDimensions());}function resizePattern(_0x337ccc,_0x247846){const _0x2501f4=_0x4aa168;let _0x4fcaf8=document[_0x2501f4(0x352)](_0x2501f4(0x252)),_0x1bffe0=_0x4fcaf8['getContext']('2d');return _0x4fcaf8[_0x2501f4(0x335)]=_0x247846,_0x4fcaf8[_0x2501f4(0x22c)]=_0x247846,_0x1bffe0[_0x2501f4(0x271)](_0x337ccc,0x0,0x0,_0x337ccc[_0x2501f4(0x2dd)],_0x337ccc[_0x2501f4(0x2e7)],0x0,0x0,_0x247846,_0x247846),ctx[_0x2501f4(0x201)](_0x4fcaf8,_0x2501f4(0x357));}function updateLevel(){const _0x2ca6f0=_0x4aa168;lvl[_0x2ca6f0(0x2fb)](me[_0x2ca6f0(0x293)]/0x2),scoreLvl['html'](me['Size']/0x2);}function updateTtl(){const _0x58fb43=_0x4aa168;playerTextTTL[_0x58fb43(0x2fb)](myTtl),me[_0x58fb43(0x23f)]();}function compare(_0x500874,_0x414622){const _0x310ffd=_0x4aa168;return _0x500874[_0x310ffd(0x293)]<_0x414622['Size']?0x1:_0x500874[_0x310ffd(0x293)]>_0x414622[_0x310ffd(0x293)]||_0x500874[_0x310ffd(0x245)]<_0x414622[_0x310ffd(0x245)]?-0x1:_0x500874[_0x310ffd(0x245)]>_0x414622[_0x310ffd(0x245)]?0x1:0x0;}function updateScores(){const _0x2fcbfc=_0x4aa168;scores='';let _0x4c06ca=Array[_0x2fcbfc(0x22f)](players['values']());_0x4c06ca[_0x2fcbfc(0x290)](compare),_0x4c06ca[_0x2fcbfc(0x29a)](function _0x561120(_0x2eefa9){const _0x75f940=_0x2fcbfc;let _0xf4a4bb=_0x2eefa9[_0x75f940(0x245)][_0x75f940(0x233)](/</g,_0x75f940(0x2c0))[_0x75f940(0x233)](/>/g,_0x75f940(0x358));_0x2eefa9['ID']===myId?scores+='<div\x20id=\x27scoreentry\x27\x20class=\x27bckme\x27>'+_0xf4a4bb+':\x20'+_0x2eefa9['Size']/0x2+_0x75f940(0x264):scores+='<div\x20id=\x27scoreentry\x27\x20class=\x27bckother\x27>'+_0xf4a4bb+':\x20'+_0x2eefa9[_0x75f940(0x293)]/0x2+_0x75f940(0x264);}),leaderboard[_0x2fcbfc(0x2fb)](scores);}function updateStatus(){updatePoints();}function updatePoints(){const _0x4082b1=_0x4aa168;let _0x184931=me[_0x4082b1(0x2a0)][_0x4082b1(0x300)],_0x599db7=0xfa+0x2*_0x184931;_0x184931>0x0?(myPoints>=_0x599db7?(spellmagnet[_0x4082b1(0x346)](cssEnabled),spellshield[_0x4082b1(0x346)](cssEnabled),spellfire[_0x4082b1(0x346)](cssEnabled),costmagnet[_0x4082b1(0x346)](cssEnabled),costshield[_0x4082b1(0x346)](cssEnabled),costfire[_0x4082b1(0x346)](cssEnabled),0x1!==alphaMagnet&&(alphaMagnet=0x1,imgMagnet[_0x4082b1(0x328)][_0x4082b1(0x36f)]=alphaMagnet),0x1!==alphaFire&&(alphaFire=0x1,imgFire[_0x4082b1(0x328)][_0x4082b1(0x36f)]=alphaFire)):(spellmagnet[_0x4082b1(0x346)](cssDisabled),spellshield[_0x4082b1(0x346)](cssDisabled),spellfire['css'](cssDisabled),costmagnet['css'](cssDisabled),costshield[_0x4082b1(0x346)](cssDisabled),costfire[_0x4082b1(0x346)](cssDisabled),alphaMagnet!==ALPHA_DISABLED&&(alphaMagnet=ALPHA_DISABLED,imgMagnet[_0x4082b1(0x328)][_0x4082b1(0x36f)]=alphaMagnet),alphaFire!==ALPHA_DISABLED&&(alphaFire=ALPHA_DISABLED,imgFire[_0x4082b1(0x328)]['opacity']=alphaFire)),myPoints>=0x5?(spellrotate['css'](cssEnabled),costrotate[_0x4082b1(0x346)](cssEnabled),0x1!==alphaRotate&&(alphaRotate=0x1,imgRotate['style'][_0x4082b1(0x36f)]=alphaRotate)):(spellrotate[_0x4082b1(0x346)](cssDisabled),costrotate[_0x4082b1(0x346)](cssDisabled),alphaRotate!==ALPHA_DISABLED&&(alphaRotate=ALPHA_DISABLED,imgRotate[_0x4082b1(0x328)][_0x4082b1(0x36f)]=alphaRotate)),costmagnet[_0x4082b1(0x346)](cssVisible),costmagnet['html'](_0x599db7),costfire['css'](cssVisible),costfire[_0x4082b1(0x2fb)](_0x599db7),costrotate[_0x4082b1(0x346)](cssVisible),costrotate[_0x4082b1(0x2fb)](0x5),0x0===alphaRelease&&(alphaRelease=0x1,imgRelease[_0x4082b1(0x328)][_0x4082b1(0x266)]=_0x4082b1(0x226))):(costmagnet[_0x4082b1(0x346)](cssHidden),spellmagnet['css'](cssDisabled),costfire[_0x4082b1(0x346)](cssHidden),spellfire['css'](cssDisabled),costrotate['css'](cssHidden),spellrotate['css'](cssDisabled),0x0!==alphaMagnet&&(alphaMagnet=0x0,imgMagnet['style'][_0x4082b1(0x36f)]=alphaMagnet),0x0!==alphaFire&&(alphaFire=0x0,imgFire['style'][_0x4082b1(0x36f)]=alphaFire),0x0!==alphaRotate&&(alphaRotate=0x0,imgRotate['style'][_0x4082b1(0x36f)]=alphaRotate),0x1===alphaRelease&&(alphaRelease=0x0,imgRelease[_0x4082b1(0x328)]['visibility']='hidden')),myPoints>=ttlCost?(spelltime[_0x4082b1(0x346)](cssEnabled),costtime[_0x4082b1(0x346)](cssEnabled),0x1!==alphaTime&&(alphaTime=0x1,imgTime[_0x4082b1(0x328)]['opacity']=alphaTime)):(spelltime[_0x4082b1(0x346)](cssDisabled),costtime[_0x4082b1(0x346)](cssDisabled),alphaTime!==ALPHA_DISABLED&&(alphaTime=ALPHA_DISABLED,imgTime[_0x4082b1(0x328)]['opacity']=alphaTime)),myPoints>=speedCost?(spellspeed['css'](cssEnabled),costspeed['css'](cssEnabled),0x1!==alphaSpeed&&(alphaSpeed=0x1,imgSpeed[_0x4082b1(0x328)][_0x4082b1(0x36f)]=alphaSpeed)):(spellspeed[_0x4082b1(0x346)](cssDisabled),costspeed['css'](cssDisabled),alphaSpeed!==ALPHA_DISABLED&&(alphaSpeed=ALPHA_DISABLED,imgSpeed['style'][_0x4082b1(0x36f)]=alphaSpeed)),pointsValue['html'](myPoints),doOverlap(fieldPointsX,fieldPointsY,fieldPointsXEnd,fieldPointsYEnd,me['X'],me['Y'],me['X']+me['Size'],me['Y']+me[_0x4082b1(0x293)])?pointsValue['css'](cssPointsField):myPoints<POINTSPANIC?pointsValue[_0x4082b1(0x346)](cssPointsPanic):pointsValue[_0x4082b1(0x346)](cssPointsDefault);}function updateSpeed(){const _0x505b7f=_0x4aa168;statusSpeed[_0x505b7f(0x2fb)](0x5-mySpeed+0x1);}function updateGold(){const _0x470c8f=_0x4aa168;goldCoins[_0x470c8f(0x2fb)](gold);}function updateSilver(){const _0x3c5917=_0x4aa168;silverCoins[_0x3c5917(0x2fb)](silver);}function updateBronze(){const _0x2376aa=_0x4aa168;bronzeCoins[_0x2376aa(0x2fb)](bronze);}function updateCoins(){updateGold(),updateSilver(),updateBronze(),notifyCoins&&gold>=NOTIFYABOVECOINS&&(notifyCoins=!0x1,runNotifyCoins=!0x0);}function checkMinimumVisible(){const _0x40e8e8=_0x4aa168;canvas[_0x40e8e8(0x22c)]<0x64?(helpexpand[_0x40e8e8(0x2d5)](),helpcollapsed[_0x40e8e8(0x2d5)](),scoreexpand[_0x40e8e8(0x2d5)](),scorecollapsed[_0x40e8e8(0x2d5)](),statusexpand[_0x40e8e8(0x2d5)](),statuscollapsed[_0x40e8e8(0x2d5)](),settingscollapsed[_0x40e8e8(0x2d5)](),settingsexpand[_0x40e8e8(0x2d5)](),leftpanel[_0x40e8e8(0x2d5)]()):-0x1!==myId&&(hide||(helpcollapsed[_0x40e8e8(0x346)](cssVisible),helpcollapsed[_0x40e8e8(0x2ac)](),scorecollapsed['css'](cssVisible),scorecollapsed['show'](),statuscollapsed[_0x40e8e8(0x346)](cssVisible),statuscollapsed[_0x40e8e8(0x2ac)](),scoreexpand[_0x40e8e8(0x2d5)](),statusexpand['hide'](),settingsexpand[_0x40e8e8(0x2d5)](),leftpanel['show'](),points['show'](),spells[_0x40e8e8(0x2ac)]()),settingscollapsed[_0x40e8e8(0x346)](cssVisible),settingscollapsed[_0x40e8e8(0x2ac)]());}function calculateIconSize(){const _0x34b8a7=_0x4aa168;sizeIcon<0x5?(imgTimeX=imgTime5,imgSpeedX=imgTime5,imgMagnetX=imgMagnet5):sizeIcon<0x14?(imgTimeX=imgTime20,imgSpeedX=imgSpeed20,imgMagnetX=imgMagnet20):sizeIcon<0x28?(imgTimeX=imgTime40,imgSpeedX=imgSpeed40,imgMagnetX=imgMagnet40):sizeIcon<0x3c?(imgTimeX=imgTime60,imgSpeedX=imgSpeed60,imgMagnetX=imgMagnet60):sizeIcon<0x50?(imgTimeX=imgTime80,imgSpeedX=imgSpeed80,imgMagnetX=imgMagnet80):(imgTimeX=imgTime100,imgSpeedX=imgSpeed100,imgMagnetX=imgMagnet100),flexSize=imgTimeX[_0x34b8a7(0x22c)];}function placeButtons(){const _0x53699d=_0x4aa168;let _0x5ad165={'top':0.15*unit+'px'};gamebar['css'](_0x5ad165),leftpanel['css'](_0x5ad165);let _0x3682a4={'width':1.25*unit+'px','height':1.2*unit*countSpells()+0x5+'px','font-size':0.2*unit+'px'};spells[_0x53699d(0x346)](_0x3682a4);let _0x5f1488={'min-width':1.25*unit+'px'};points[_0x53699d(0x346)](_0x5f1488),setupGift(gifts[_0x53699d(0x2fb)]());}function setButtonsMobile(){const _0x1ae995=_0x4aa168;isMobile&&(imgRelease['style']['visibility']=_0x1ae995(0x22e),imgMagnet[_0x1ae995(0x328)]['opacity']=alphaMagnet,imgRotate[_0x1ae995(0x328)][_0x1ae995(0x36f)]=alphaRotate,imgShield[_0x1ae995(0x328)][_0x1ae995(0x36f)]=alphaShield,imgFire[_0x1ae995(0x328)]['opacity']=alphaFire,imgShrink[_0x1ae995(0x328)]['opacity']=alphaShrink,imgTime[_0x1ae995(0x328)][_0x1ae995(0x36f)]=alphaTime,imgSpeed['style']['opacity']=alphaSpeed,document['body'][_0x1ae995(0x2ab)](imgGlue),document[_0x1ae995(0x36b)]['appendChild'](imgRelease),spellsEnabled['get'](ROTATEBIT)&&document['body'][_0x1ae995(0x2ab)](imgRotate),spellsEnabled[_0x1ae995(0x2c5)](FIREBIT)&&document[_0x1ae995(0x36b)][_0x1ae995(0x2ab)](imgFire),spellsEnabled[_0x1ae995(0x2c5)](SHIELDBIT)&&document[_0x1ae995(0x36b)]['appendChild'](imgShield),spellsEnabled[_0x1ae995(0x2c5)](MAGNETBIT)&&document[_0x1ae995(0x36b)]['appendChild'](imgMagnet),spellsEnabled[_0x1ae995(0x2c5)](SHRINKBIT)&&document[_0x1ae995(0x36b)][_0x1ae995(0x2ab)](imgShrink),spellsEnabled[_0x1ae995(0x2c5)](SPEEDBIT)&&document['body']['appendChild'](imgSpeed),spellsEnabled[_0x1ae995(0x2c5)](TIMEBIT)&&document[_0x1ae995(0x36b)][_0x1ae995(0x2ab)](imgTime));}function setButtons(){const _0x248a25=_0x4aa168;spellmagnet['css'](cssDisabled),spellshield[_0x248a25(0x346)](cssDisabled),spellfire[_0x248a25(0x346)](cssDisabled),spellrotate[_0x248a25(0x346)](cssDisabled),spelltime[_0x248a25(0x346)](cssDisabled),spellspeed[_0x248a25(0x346)](cssDisabled),spellshrink[_0x248a25(0x346)](cssDisabled),costmagnet[_0x248a25(0x346)](cssHidden),costshield[_0x248a25(0x346)](cssHidden),costfire[_0x248a25(0x346)](cssHidden),costrotate['css'](cssHidden),costshrink[_0x248a25(0x346)](cssDisabled),costtime[_0x248a25(0x346)](cssDisabled),costspeed[_0x248a25(0x346)](cssDisabled),costshrink[_0x248a25(0x2fb)](shrinkCost),costtime[_0x248a25(0x2fb)](ttlCost),costspeed[_0x248a25(0x2fb)](speedCost);}function resizeCanvas(){const _0x417e25=_0x4aa168;if(canvas[_0x417e25(0x335)]=window[_0x417e25(0x256)],canvas[_0x417e25(0x22c)]=window[_0x417e25(0x2d1)],-0x1!==myId){var _0x464d39,_0x2f0980,_0x3274a3,_0x59f9d6;collapseAllMenu(),canvas[_0x417e25(0x22c)]>canvas[_0x417e25(0x335)]?(currentViewSizeY<currentViewSizeX&&(currentViewSizeY=(_0x464d39=currentViewSizeX,currentViewSizeX=currentViewSizeY,_0x464d39),currentViewX=me['X']-Math[_0x417e25(0x351)](currentViewSizeX/0x2)+me[_0x417e25(0x293)]/0x2,currentViewY=me['Y']-Math[_0x417e25(0x351)](currentViewSizeY/0x2)+me['Size']/0x2,MiniH2=(_0x2f0980=MiniW2,MiniW2=MiniH2,_0x2f0980)),unit=canvas[_0x417e25(0x22c)]/unitsNrX):(currentViewSizeY>currentViewSizeX&&(currentViewSizeY=(_0x3274a3=currentViewSizeX,currentViewSizeX=currentViewSizeY,_0x3274a3),currentViewX=me['X']-Math[_0x417e25(0x351)](currentViewSizeX/0x2)+me['Size']/0x2,currentViewY=me['Y']-Math['floor'](currentViewSizeY/0x2)+me['Size']/0x2,MiniH2=(_0x59f9d6=MiniW2,MiniW2=MiniH2,_0x59f9d6)),unit=canvas['height']/unitsNrY),calculateGradient(),calculateSpellWheelsDimensions(),calculateDrawParams(),updateBricksInViewFunction(),placeButtons();}checkMinimumVisible();}Game[_0x4aa168(0x28c)]=function(){};let gameUpdatePaused;function gameResume(){const _0x4dc274=_0x4aa168;void 0x0!=gameUpdatePaused&&void 0x0!=Game['update']&&(Game[_0x4dc274(0x349)]=gameUpdatePaused),document[_0x4dc274(0x259)](_0x4dc274(0x26e))[_0x4dc274(0x348)]();}function gamePause(){const _0x490b6f=_0x4aa168;gameUpdatePaused=Game[_0x490b6f(0x349)],Game[_0x490b6f(0x349)]=function(){};}function gameRestartGame(){playAgain();}let score=0x1;function runeGetScore(){return score;}function calculateGradient(){const _0x3c9778=_0x4aa168;(gradientMargin=ctx[_0x3c9778(0x272)](0x0,0x0,canvas[_0x3c9778(0x22c)]/0x2,canvas[_0x3c9778(0x335)]/0x2))[_0x3c9778(0x285)](0x0,'magenta'),gradientMargin['addColorStop'](0.5,_0x3c9778(0x320)),gradientMargin['addColorStop'](0x1,_0x3c9778(0x2ba));}function clearHandlers(){const _0xbee0=_0x4aa168;for(let _0x93f628 in Key[_0xbee0(0x2cd)])delete Key['_pressed'][_0x93f628];}function clearAlpha(){alphaFire=0x0,alphaMagnet=0x0,alphaShield=0x0,alphaRotate=0x0,alphaRelease=0x0,alphaShrink=0x0,alphaSpeed=0x0,alphaTime=0x0;}function clearGifts(){const _0x16e058=_0x4aa168;giftsqueue[_0x16e058(0x1f5)](),gifts[_0x16e058(0x346)](cssHidden);}function endGame(){const _0x2dbdd9=_0x4aa168;clearHandlers(),collapseAllMenu(),clearGifts(),checkMinimumVisible(),gameOver=!0x0,gopopup['css'](cssVisible),Game[_0x2dbdd9(0x349)]=function(){},score=me[_0x2dbdd9(0x293)]/0x2;}function youWinGame(){const _0x4631d8=_0x4aa168;clearHandlers(),collapseAllMenu(),checkMinimumVisible(),gameOver=!0x0,winpopup[_0x4631d8(0x346)](cssVisible),Game[_0x4631d8(0x349)]=function(){},score=me['Size']/0x2;}function movePlayer(_0x128e1b,_0x13541f){const _0xc4b355=_0x4aa168;me['X']+=_0x128e1b,me['Y']+=_0x13541f,me['moveParticles'](_0x128e1b,_0x13541f);for(let _0x233b6a=0x0;_0x233b6a<me[_0xc4b355(0x2a0)]['length'];_0x233b6a++){let _0x21280f=bricks[_0xc4b355(0x2c5)](me[_0xc4b355(0x2a0)][_0x233b6a]);xy[_0x21280f['X']][_0x21280f['Y']]=-0x1;}for(let _0x5e7744=0x0;_0x5e7744<me[_0xc4b355(0x2a0)][_0xc4b355(0x300)];_0x5e7744++){let _0x2c08a8=bricks['get'](me[_0xc4b355(0x2a0)][_0x5e7744]);_0x2c08a8['X']+=_0x128e1b,_0x2c08a8['Y']+=_0x13541f,xy[_0x2c08a8['X']][_0x2c08a8['Y']]=_0x2c08a8['ID'];}}function setEnabledSpells(_0x5844f2){const _0x295e21=_0x4aa168;spellsEnabled[_0x295e21(0x32c)](ROTATEBIT,0x80&_0x5844f2),spellsEnabled['set'](SHIELDBIT,0x40&_0x5844f2),spellsEnabled[_0x295e21(0x32c)](FIREBIT,0x20&_0x5844f2),spellsEnabled[_0x295e21(0x32c)](MAGNETBIT,0x10&_0x5844f2),spellsEnabled[_0x295e21(0x32c)](SPEEDBIT,0x8&_0x5844f2),spellsEnabled[_0x295e21(0x32c)](TIMEBIT,0x4&_0x5844f2),spellsEnabled[_0x295e21(0x32c)](SHRINKBIT,0x2&_0x5844f2),spellsEnabled['get'](ROTATEBIT)||(spellrotate[_0x295e21(0x2b8)](),costrotate[_0x295e21(0x2b8)]()),spellsEnabled[_0x295e21(0x2c5)](SHIELDBIT)||(spellshield[_0x295e21(0x2b8)](),costshield['remove']()),spellsEnabled[_0x295e21(0x2c5)](FIREBIT)||(spellfire['remove'](),costfire[_0x295e21(0x2b8)]()),spellsEnabled[_0x295e21(0x2c5)](MAGNETBIT)||(spellmagnet['remove'](),costmagnet[_0x295e21(0x2b8)]()),spellsEnabled[_0x295e21(0x2c5)](SPEEDBIT)||(spellspeed[_0x295e21(0x2b8)](),costspeed[_0x295e21(0x2b8)]()),spellsEnabled['get'](TIMEBIT)||(spelltime[_0x295e21(0x2b8)](),costtime['remove']()),spellsEnabled[_0x295e21(0x2c5)](SHRINKBIT)||(spellshrink[_0x295e21(0x2b8)](),costshrink['remove']());}function setEnabledCharms(_0x4dfcd5,_0x550ba5,_0x75c3c1){const _0x28c1d8=_0x4aa168;for(let _0x5361f7=0x0;_0x5361f7<0x6;++_0x5361f7)if((_0x4dfcd5&0x1<<_0x5361f7)!=0x0){let _0x572156=_0x28c1d8(0x200)+_0x5361f7;$('#'+_0x572156)[_0x28c1d8(0x2ac)](),$('#cd'+_0x5361f7)[_0x28c1d8(0x2ac)](),(_0x550ba5&0x1<<_0x5361f7)!=0x0&&((_0x75c3c1&0x1<<_0x5361f7)!=0x0?($('#ac'+_0x5361f7)[_0x28c1d8(0x2fb)](_0x28c1d8(0x325)),document[_0x28c1d8(0x259)](_0x572156)[_0x28c1d8(0x2b4)][_0x28c1d8(0x244)](_0x28c1d8(0x23a)),document['getElementById'](_0x572156)[_0x28c1d8(0x2b4)][_0x28c1d8(0x2b8)](_0x28c1d8(0x287))):($(_0x28c1d8(0x36c)+_0x5361f7)[_0x28c1d8(0x2fb)]('Equip'),document[_0x28c1d8(0x259)](_0x572156)[_0x28c1d8(0x2b4)]['add']('charmOwned'),document[_0x28c1d8(0x259)](_0x572156)[_0x28c1d8(0x2b4)][_0x28c1d8(0x2b8)](_0x28c1d8(0x23a))));}}function setEnabledSkins(_0x54186c,_0x3e4d3e,_0x542892){const _0x42de01=_0x4aa168;for(let _0x58327e=0x0;_0x58327e<0x3;++_0x58327e)if((_0x54186c&0x1<<_0x58327e)!=0x0){let _0x52b6fc=_0x42de01(0x322)+_0x58327e;$('#'+_0x52b6fc)[_0x42de01(0x2ac)](),(_0x3e4d3e&0x1<<_0x58327e)!=0x0&&((_0x542892&0x1<<_0x58327e)!=0x0?($(_0x42de01(0x2ee)+_0x58327e)[_0x42de01(0x2fb)](_0x42de01(0x325)),document[_0x42de01(0x259)](_0x52b6fc)[_0x42de01(0x2b4)]['add'](_0x42de01(0x23a)),document[_0x42de01(0x259)](_0x52b6fc)['classList'][_0x42de01(0x2b8)](_0x42de01(0x287)),me[_0x42de01(0x2de)](_0x58327e)):($(_0x42de01(0x2ee)+_0x58327e)['html']('Equip'),document[_0x42de01(0x259)](_0x52b6fc)[_0x42de01(0x2b4)][_0x42de01(0x244)](_0x42de01(0x287)),document[_0x42de01(0x259)](_0x52b6fc)['classList']['remove']('charmEquipped'),0x0===_0x542892&&me[_0x42de01(0x2de)](-0x1)));}}function setEnabledTrophies(_0x1e5643,_0x1beffa,_0x23bab8){const _0x128b13=_0x4aa168;for(let _0x17f3fe=0x0;_0x17f3fe<0x3;++_0x17f3fe)if((_0x1e5643&0x1<<_0x17f3fe)!=0x0){let _0x310eb7=_0x128b13(0x2e5)+_0x17f3fe;$('#'+_0x310eb7)[_0x128b13(0x2ac)](),$(_0x128b13(0x215)+_0x17f3fe)[_0x128b13(0x346)](_0x128b13(0x29e),_0x128b13(0x2b7)),(_0x1beffa&0x1<<_0x17f3fe)!=0x0&&($('#at'+_0x17f3fe)[_0x128b13(0x2ac)](),(_0x23bab8&0x1<<_0x17f3fe)!=0x0?($(_0x128b13(0x378)+_0x17f3fe)[_0x128b13(0x2fb)](_0x128b13(0x325)),document[_0x128b13(0x259)](_0x310eb7)[_0x128b13(0x2b4)][_0x128b13(0x244)]('charmEquipped'),document[_0x128b13(0x259)](_0x310eb7)['classList']['remove'](_0x128b13(0x287))):($(_0x128b13(0x378)+_0x17f3fe)[_0x128b13(0x2fb)](_0x128b13(0x257)),document[_0x128b13(0x259)](_0x310eb7)[_0x128b13(0x2b4)][_0x128b13(0x244)](_0x128b13(0x287)),document[_0x128b13(0x259)](_0x310eb7)['classList'][_0x128b13(0x2b8)](_0x128b13(0x23a))));}}function _0x5a33(){const _0x5b9a8f=['floor','createElement','<div\x20class=\x27textimg\x20gFr\x27>Burning\x20(','<div\x20class=\x27textimg\x20gHp\x27>Tip:\x20you\x20can\x20press\x20the\x20M\x20key\x20or&nbsp;<img\x20src=\x27rightclick.png\x27\x20class=\x27m10\x27>\x20to\x20drop\x20your\x20tiles.</div>','<div\x20class=\x27gNt\x27>Can\x27t\x20cast.\x20Glue\x20tiles\x20first.</div>','#99FFFF','repeat','&gt;','#bababa','ROTATE','draw','#cp3','#Magnet','getString','shadowOffsetY','#costshrink','#helpcollapsed','rgba(255,\x20174,\x20200,','Time5','#shadowsCb','shadowBlur','#spells','Time','#TrophiesTab','chainParticlesArray','<div\x20class=\x27textimg\x20gNg\x27>-500&nbsp;<img\x20src=\x27PointBig.png\x27\x20class=\x27m5\x27>&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','body','#ac','colorsCb','Magnet60','opacity','particlesArray','#D2B48C','#gopopup','#tp0','Lock','#SkinsTab','<div\x20class=\x27textimg\x20gHp\x27>You\x20are\x20controlling\x20the&nbsp;<img\x20src=\x27square.png\x27\x20class=\x27m6\x27>&nbsp;in\x20the\x20middle\x20of\x20the\x20screen.</div>','selected','#at','max','Cannot\x20equip\x20more\x20charms','clear','#Trophies','onKeyup','RELEASE','push','#ttl','Time40','<div\x20class=\x27gNt\x27>Maximum\x20Speed</div>','updateSpeed','#statusexpand','closePath','charm','createPattern','prototype','rect','mouseup','<div\x20class=\x27gNt\x27>Maximum\x20level\x20reached</div>','Magnet','speedX','<div\x20class=\x27textimg\x20gHp\x27>To\x20move\x20use&nbsp;<img\x20src=\x27touchblack.png\x27\x20class=\x27m10\x27></div>','rgba(255,\x200,\x200,\x201)','strokeStyle','#glueCb','#CharmsTab','#Minus','#leftpanel','fps','Chain','rgba(70,\x20255,\x2070,','#094074','abs','#1e1e1e','#tl','<div\x20class=\x27gHp\x27>Complete\x20your\x20square\x20with\x20tiles\x20until\x20the\x20time\x20is\x20up.</div>','<div\x20class=\x27gHp\x27>Hi!\x20You\x20seem\x20to\x20be\x20struggling.\x20Please\x20allow\x20me\x20to\x20help\x20you.</div>','<div\x20class=\x27textimg\x20gHp\x27>When\x20the\x20square\x20is\x20over\x20some\x20tiles,\x20to\x20glue\x20them\x20press\x20<img\x20src=\x27Glue.png\x27\x20class=\x27m10\x27></div>','Not\x20enough\x20silver','#settingscollapsed','#006262','Cannot\x20equip\x20now<br>Retry\x20after\x20a\x20Speed\x20spell\x20has\x20expired','clearRect','delete','#gtp','touchcancel','#ac4','BombL','Charms','LEFT','4932816HhvvJl','visible','#costspeed','<div\x20class=\x27gPz\x27>+30\x20TTL\x20Seconds</div>','rgba(0,\x200,\x200,\x200.2)','dequeue','#multiplayer','height','#010b13','hidden','from','moveParticles','<div\x20class=\x27textimg\x20gPz\x27>+2000&nbsp;<img\x20src=\x27PointBig.png\x27\x20class=\x27m5\x27>&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','#cp4','replace','Unshrinkable','Bronze','SHRINK','undefined','Gold','#Skins','charmEquipped','<div\x20class=\x27gNg\x27>Time\x20to\x20live\x20reduced</div>','Time80','bezierCurveTo','removeEventListener','updateTTLStyle','<div\x20class=\x27textimg\x20gHp\x27>or&nbsp;<img\x20src=\x27mouse.png\x27\x20class=\x27m10\x27></div>','#goldCoins','<div\x20class=\x27gNt\x27>Walls\x20will\x20regenerate\x20soon.\x20Don\x27t\x20get\x20trapped!</div>','#Fire','add','NAME','<div\x20class=\x27textimg\x20gPz\x27>+100&nbsp;<img\x20src=\x27CoinBig.png\x27\x20class=\x27m5\x27></div>','<div\x20class=\x27gNt\x27>A\x20ghost\x20has\x20disappeared\x20...</div>','touchmove','#ECC30B','target','#costshield','#ac0','onreadystatechange','<div\x20class=\x27textimg\x20gSd\x27>Ice\x20Shield\x20(2s)<img\x20src=\x27Shield.png\x27\x20class=\x27m5\x27></div>','fillStyle','<div\x20class=\x27textimg\x20gSv\x27>GoTet!\x20Silver\x20bonus!<img\x20src=\x27Silver.gif\x27\x20class=\x27m5\x27></div>','globalAlpha','canvas','webkitRequestAnimationFrame','Time60','setAttribute','innerWidth','Equip','enqueue','getElementById','#ffaec8','ZOOMIN','msRequestAnimationFrame','keyCode','#898','splice','#hideCb','Glue','keydown','Rotate','<br></div>','#zooms','visibility','#cp5','lineTo','translate','<div\x20class=\x27textimg\x20gFr\x27>Burning\x20(1s)<img\x20src=\x27Fire.png\x27\x20class=\x27m5\x27></div>','#FireSpell','transparent\x20','#statusCharm','gameCanvas','preventDefault','DOWN','drawImage','createLinearGradient','Speed80','patternSkin','<div\x20class=\x27gHp\x27>If\x20you\x20don\x27t\x20see\x20any,\x20look\x20at\x20the\x20minimap\x20here\x20---></div>','<div\x20class=\x27textimg\x20gHp\x27>or&nbsp;<img\x20src=\x27squaretouchblack.png\x27\x20class=\x27m10\x27></div>','beginPath','stopPropagation','moveTo','Point','#cp0','posx','58682331SzGgDA','#statusserver','onclick','#E0E0E0','posy','white','#8B4513','#tp2','addColorStop','changedTouches','charmOwned','hideCb','#scoreexpand','mozRequestAnimationFrame','getContext','start','#btg','backgroundImage','#46ff46','sort','#sp0','Hipo','Size','mouseleave','rgba(0,0,0,0.5)','elements','Ghost','Magnet40','addEventListener','forEach','Silver','particleColor','Magnet100','display','keyup','Bricks','Penguin','Speed20','<div\x20class=\x27textimg\x20gHp\x27>Tip:\x20you\x20can\x20tap\x20&nbsp;<img\x20src=\x27Release.png\x27\x20class=\x27m10\x27>\x20to\x20drop\x20your\x20tiles.</div>','initChainParticles','none','getTime','#f1f1f1','updateSkin','#as0','position:absolute;left:','appendChild','show','run','Trophies','min','#5D3FD3FF','#TimeSpell','Not\x20enough\x20coins','<div\x20class=\x27textimg\x20gPz\x27>+1\x20Speed\x20(15s)&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','classList','16JJbMeF','touchstart','flex','remove','fillRect','red','Shield','#tlv','#cp1','#tp1','arc','&lt;','Speed','fireParticlesArray','Speed100','<div\x20class=\x27textimg\x20gBr\x27>GoTet!\x20Bronze\x20bonus!<img\x20src=\x27Bronze.gif\x27\x20class=\x27m5\x27></div>','get','totalSleep','Gift','0px','#statuscollapsed','pageY','shadowColor','<div\x20class=\x27gPz\x27>+1\x20Speed\x20(15s)</div>','_pressed','_onEachFrame','Skins','drawParticles','innerHeight','number','<div\x20class=\x27textimg\x20gGd\x27>GoTet!\x20Gold\x20bonus!<img\x20src=\x27Gold.gif\x27\x20class=\x27m5\x27></div>','RIGHT','hide','transparent','#sp2','brickId','1075284OEhPld','random','<div\x20class=\x27textimg\x20gHp\x27>You\x20can\x20then\x20proceed\x20to\x20rearrange\x20your\x20tiles&nbsp;<img\x20src=\x27Pos4.gif\x27\x20class=\x27m40\x27></div>','sqrt','naturalWidth','setSkin','#points','<div\x20class=\x27textimg\x20gPz\x27>+10&nbsp;<img\x20src=\x27CoinBig.png\x27\x20class=\x27m5\x27>&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','mousedown','s)</div>','Wall','blur','trophy','prop','naturalHeight','shift','#SpeedSpell','#as1','Release','#Charms','7866660kxsqlC','#as','#Shield','#scorecollapsed','1464zlZeaY','test','#Plus','pageX','#MagnetSpell','updatePercentage','<div\x20class=\x27textimg\x20gHp\x27>To\x20move\x20use&nbsp;<img\x20src=\x27wasd.png\x27\x20class=\x27m10\x27>&nbsp;or&nbsp;<img\x20src=\x27arrows.png\x27\x20class=\x27m10\x27>&nbsp;keys</div>','#costmagnet','Not\x20enough\x20gold','px;top:','html','px\x20Share\x20Tech\x20Mono','size','TTL','lineWidth','length','Bear','<div\x20class=\x27textimg\x20gPz\x27>+5&nbsp;<img\x20src=\x27CoinBig.png\x27\x20class=\x27m5\x27>&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','initParticles','#pointsValue','Buy','PointBig','imgSkin','#singleplayermodern','px;width:','<div\x20class=\x27textimg\x20gHp\x27>or&nbsp;<img\x20src=\x27squareclick.png\x27\x20class=\x27m10\x27></div>','#player','CATCH','speedY','shadowOffsetX','<div\x20class=\x27gNg\x27>Shrinked</div>','1879qMOFOV','#585858','#Glue','Percentage','#Rotate','green','isDown','pow','#gamebar','#darkCb','px;height:auto','#gifts','#811331','showBanner','Speed60','which','blue','checked','skin','stroke','<div\x20class=\x27textimg\x20gNg\x27>-30\x20TTL\x20Seconds&nbsp;<img\x20src=\x27ChestOpen.gif\x27\x20class=\x27m5\x27></div>','Unequip','8760920BwksQO','s)<img\x20src=\x27Fire.png\x27\x20class=\x27m5\x27></div>','style','#visit','<div\x20class=\x27gNt\x27>Unfrozen</div>','#HighscoreTab','set','click','updateParticles','<div\x20class=\x27textimg\x20gNt\x27>If\x20you\x20enjoy\x20this\x20game,\x20please\x20support</div>','black','BrickMini','Speed5','complete','#costfire','width','#ShrinkSpell','rgba(153,\x20255,\x20255,','resize','<div\x20class=\x27gHp\x27>We\x27ve\x20given\x20more\x20time\x20to\x20help\x20you.</div>','<div\x20class=\x27gNt\x27>-1\x20Speed\x20(Bonus\x20expired)</div>','#singleplayerclassic','byteLength','<div\x20class=\x27gHp\x27>Start\x20moving\x20towards\x20the\x20tiles\x20around\x20you.</div>','#colorsCb','mousemove','<div\x20class=\x27textimg\x20gSd\x27>Ice\x20Shield\x20(6s)<img\x20src=\x27Shield.png\x27\x20class=\x27m5\x27></div>','<div\x20class=\x27gPz\x27>New\x20trophy\x20level\x20unlocked!</div>','#leaderboard','initFireParticles','Fire','rgba(210,180,140,','css','round','focus','update','MasterId','#ac2','Unequip\x20other\x20skin\x20first','fill','onKeydown','3127922WUdUEZ','#winpopup'];_0x5a33=function(){return _0x5b9a8f;};return _0x5a33();}function acClick(_0x5d552d,_0x4670da){const _0x2c6b0a=_0x4aa168;if(_0x4670da['stopPropagation'](),statusCharm['html'](''),(charmsOwned&(mask=0x1<<_0x5d552d))==0x0){gold>=charmsCost[_0x5d552d]?(gold-=charmsCost[_0x5d552d],setEnabledCharms(charms,charmsOwned|=mask,charmsEquipped),updateCoins()):statusCharm[_0x2c6b0a(0x2fb)](_0x2c6b0a(0x2b2));return;}if((charmsEquipped&mask)==0x0){for(i=0x0,nrEquipped=0x0;i<0x8;++i)(charmsEquipped&0x1<<i)!=0x0&&(nrEquipped+=0x1);if(nrEquipped<0x3){switch(_0x5d552d){case 0x1:if(mySpeed>0x1)mySpeed-=0x1,drainRate+=0x14,updateSpeed();else{statusCharm[_0x2c6b0a(0x2fb)](_0x2c6b0a(0x21c));return;}break;case 0x2:if(mySpeed>0x1)mySpeed-=0x1,drainRate+=0x19,updateSpeed();else{statusCharm[_0x2c6b0a(0x2fb)](_0x2c6b0a(0x21c));return;}speedDuration+=0xa,giftNames[0x7]='<div\x20class=\x27gPz\x27>+1\x20Speed\x20('+speedDuration+_0x2c6b0a(0x2e2);break;case 0x0:drainRate+=0xf,factory=!0x0;break;case 0x4:fireDuration+=0x2,giftNames[0x5]=_0x2c6b0a(0x353)+fireDuration+_0x2c6b0a(0x327),immuneFire=!0x0;break;case 0x3:immuneIce=!0x0;}setEnabledCharms(charms,charmsOwned,charmsEquipped|=mask);}else statusCharm[_0x2c6b0a(0x2fb)](_0x2c6b0a(0x1f4));}else switch(setEnabledCharms(charms,charmsOwned,charmsEquipped&=~mask),_0x5d552d){case 0x1:mySpeed+=0x1,drainRate-=0x14,updateSpeed();break;case 0x2:mySpeed+=0x1,speedDuration-=0xa,giftNames[0x7]='<div\x20class=\x27gPz\x27>+1\x20Speed\x20('+speedDuration+_0x2c6b0a(0x2e2),drainRate-=0x19,updateSpeed();break;case 0x0:drainRate-=0xf,factory=!0x1;break;case 0x4:fireDuration-=0x2,giftNames[0x5]=_0x2c6b0a(0x353)+fireDuration+'s)<img\x20src=\x27Fire.png\x27\x20class=\x27m5\x27></div>',immuneFire=!0x1;break;case 0x3:immuneIce=!0x1;}}function asClick(_0x396376,_0x1430cb){const _0xb89f07=_0x4aa168;if(_0x1430cb[_0xb89f07(0x278)](),statusCharm[_0xb89f07(0x2fb)](''),(skinsOwned&(mask=0x1<<_0x396376))==0x0){gold>=skinsCost[_0x396376]?(gold-=skinsCost[_0x396376],setEnabledSkins(skins,skinsOwned|=mask,skinsEquipped),updateCoins()):statusCharm[_0xb89f07(0x2fb)]('Not\x20enough\x20coins');return;}if((skinsEquipped&mask)==0x0){for(i=0x0,nrEquipped=0x0;i<0x8;++i)(skinsEquipped&0x1<<i)!=0x0&&(nrEquipped+=0x1);nrEquipped<0x1?setEnabledSkins(skins,skinsOwned,skinsEquipped|=mask):statusCharm[_0xb89f07(0x2fb)](_0xb89f07(0x34c));}else setEnabledSkins(skins,skinsOwned,skinsEquipped&=~mask);}function stopMovement(){const _0x274926=_0x4aa168;mouseDown=!0x1,Key[_0x274926(0x2cd)][Key['RIGHT']]=!0x1,Key[_0x274926(0x2cd)][Key['LEFT']]=!0x1,Key[_0x274926(0x2cd)][Key['UP']]=!0x1,Key[_0x274926(0x2cd)][Key[_0x274926(0x270)]]=!0x1,curDir=-0x1;}function onOverlapEnd(_0x91a371){const _0x59a573=_0x4aa168;$(_0x91a371)[_0x59a573(0x204)](function(_0x7176f0){handleMouseUp(_0x7176f0);}),$(_0x91a371)[_0x59a573(0x33f)](function(_0x227161){handleMouseMove(_0x227161);}),$(_0x91a371)['on']('touchend',function(_0x5e8cad){_0x5e8cad['target']===this&&handleEnd(_0x5e8cad);}),$(_0x91a371)['on'](_0x59a573(0x248),function(_0x287f77){const _0x437018=_0x59a573;_0x287f77[_0x437018(0x24a)]===this&&handleMove(_0x287f77);});}function onOverlapAll(_0x4aa5bd){const _0xb0a1b=_0x4aa168;$(_0x4aa5bd)[_0xb0a1b(0x2e1)](function(_0x4e513a){mouseDownHandler(_0x4e513a);}),$(_0x4aa5bd)['on']('touchstart',function(_0x1403d9){_0x1403d9['target']===this&&handleStart(_0x1403d9);}),onOverlapEnd(_0x4aa5bd);}function onOverlapAllUnfocus(_0x4ed460){const _0x3d76c9=_0x4aa168;$(_0x4ed460)[_0x3d76c9(0x2e1)](function(_0x56a8d0){_0x56a8d0['target']===this&&mouseDownHandler(_0x56a8d0);}),$(_0x4ed460)['on'](_0x3d76c9(0x2b6),function(_0x196b12){const _0x2d16b4=_0x3d76c9;_0x196b12[_0x2d16b4(0x24a)]===this&&handleStart(_0x196b12);}),onOverlapEnd(_0x4ed460);}function countSpells(){const _0xd6048f=_0x4aa168;let _0x2c1794=0x0;return spellsEnabled[_0xd6048f(0x29a)](function(_0x1c31f5){_0x1c31f5&&(_0x2c1794+=0x1);}),_0x2c1794;}function randomInt31(_0x2a2894){const _0x23be0a=_0x4aa168;return Math[_0x23be0a(0x351)](Math[_0x23be0a(0x2da)]()*(_0x2a2894+0x1));}function computeBrickInitialPos(_0x4f9c10){const _0xb658f5=_0x4aa168;for(_0x4f9c10[_0xb658f5(0x27c)]=0x0,_0x4f9c10[_0xb658f5(0x281)]=0x0;;){_0x4f9c10[_0xb658f5(0x27c)]=randomInt31(0x1fc),_0x4f9c10['posy']=randomInt31(0x1fc);let _0x4f4d33=!0x0;for(let _0x2cbc3e=_0x4f9c10['posx'];_0x2cbc3e<_0x4f9c10[_0xb658f5(0x27c)]+0x4;_0x2cbc3e++){for(let _0x39e99a=_0x4f9c10[_0xb658f5(0x281)];_0x39e99a<_0x4f9c10['posy']+0x4;_0x39e99a++)if(-0x1!=xy[_0x2cbc3e][_0x39e99a]){_0x4f4d33=!0x1;break;}if(!_0x4f4d33)break;}if(_0x4f4d33)break;}}function computeFieldPos(_0x22b910,_0xb97e04){const _0x2a4da8=_0x4aa168;for(_0x22b910[_0x2a4da8(0x27c)]=0x0,_0x22b910[_0x2a4da8(0x281)]=0x0;_0x22b910[_0x2a4da8(0x27c)]=randomInt31(0x200-_0xb97e04+0x1),_0x22b910[_0x2a4da8(0x281)]=randomInt31(0x200-_0xb97e04+0x1),doOverlap(_0x22b910[_0x2a4da8(0x27c)],_0x22b910[_0x2a4da8(0x281)],_0x22b910[_0x2a4da8(0x27c)]+_0xb97e04,_0x22b910[_0x2a4da8(0x281)]+_0xb97e04,fieldPointsX,fieldPointsY,fieldPointsXEnd,fieldPointsYEnd)||doOverlap(_0x22b910[_0x2a4da8(0x27c)],_0x22b910[_0x2a4da8(0x281)],_0x22b910[_0x2a4da8(0x27c)]+_0xb97e04,_0x22b910[_0x2a4da8(0x281)]+_0xb97e04,fieldIceX,fieldIceY,fieldIceXEnd,fieldIceYEnd)||doOverlap(_0x22b910['posx'],_0x22b910[_0x2a4da8(0x281)],_0x22b910[_0x2a4da8(0x27c)]+_0xb97e04,_0x22b910[_0x2a4da8(0x281)]+_0xb97e04,fieldFireX,fieldFireY,fieldFireXEnd,fieldFireYEnd););}function generateShape(_0x5b9168,_0x30025f,_0x57c9ef){const _0x5eb809=_0x4aa168;let _0x26ba87;switch(_0x5b9168){case SHAPE_I_H:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x3,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_I_V:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x3,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_O:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_T_N:_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_T_E:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_T_W:_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x2,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_T_S:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_S_H:_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_S_V:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_Z_H:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_Z_V:_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_J_N:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_J_W:_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_J_S:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_J_E:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_L_N:_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_L_W:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_L_S:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_L_E:_0x26ba87=new Brick(_0x30025f,_0x57c9ef,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;break;case SHAPE_PLUS:_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x1,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x3,_0x57c9ef+0x1,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x3,_0x57c9ef+0x2,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x1,_0x57c9ef+0x3,idBrick,0xff),bricks['set'](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++,_0x26ba87=new Brick(_0x30025f+0x2,_0x57c9ef+0x3,idBrick,0xff),bricks[_0x5eb809(0x32c)](idBrick,_0x26ba87),xy[_0x26ba87['X']][_0x26ba87['Y']]=idBrick,idBrick++;}}function generateNoCastle(){const _0x191211=_0x4aa168;for(;bricks[_0x191211(0x2fd)]<0x2400;){computeBrickInitialPos(pos),generateShape(randomInt31(SHAPE_COUNT-0x1),pos[_0x191211(0x27c)],pos[_0x191211(0x281)]);}}function runGame(){const _0x333423=_0x4aa168;generateNoCastle();let _0x5bc865=randomInt31(0x1fe),_0x2b59f8=randomInt31(0x1fe);if(myTtl=calculateTTL(0x2),mySpeed=0x3,myPoints=0x2710,myPointRate=0x1,drainRate=0x0,factory=!0x1,immuneFire=!0x1,immuneIce=!0x1,me=new Player(_0x5bc865,_0x2b59f8,myId,0x2,'',myTtl,!0x1,!0x1,!0x1,!0x1,!0x1,-0x1),players[_0x333423(0x32c)](myId,me),checkMinimumVisible(),currentViewSizeX=(Math[_0x333423(0x351)](0.5)+0x2)*ZOOMFACTORX,currentViewSizeY=(Math[_0x333423(0x351)](0.5)+0x2)*ZOOMFACTORY,MiniH2=MINIMAP_UNITS_HEIGTH,MiniW2=MINIMAP_UNITS_WIDTH,canvas[_0x333423(0x22c)]>canvas['width']){var _0xaae68a,_0x2f465c;currentViewSizeY=(_0xaae68a=currentViewSizeX,currentViewSizeX=currentViewSizeY,_0xaae68a),MiniH2=(_0x2f465c=MiniW2,MiniW2=MiniH2,_0x2f465c),unit=canvas['height']/unitsNrX;}else unit=canvas[_0x333423(0x22c)]/unitsNrY;currentViewX=_0x5bc865-Math[_0x333423(0x351)](currentViewSizeX/0x2)+0x1,currentViewY=_0x2b59f8-Math[_0x333423(0x351)](currentViewSizeY/0x2)+0x1,calculateSpellWheelsDimensions(),calculateDrawParams(),placeButtons(),setButtons(),setButtonsMobile(),updateLevel(),updateTtl(),updateSpeed(),sendFirstBrick(),update(),updateBrickstyle(),gameOver=!0x1,gameInstance++,Game[_0x333423(0x349)]=GameIntro,nextGameTick=new Date()[_0x333423(0x2a6)](),Game[_0x333423(0x2ce)](Game[_0x333423(0x2ad)]),canvas[_0x333423(0x348)]();}function sendFirstBrick(){const _0x2c17bb=_0x4aa168;if(0x2==me[_0x2c17bb(0x293)]){let _0x2804e9=randomInt31(0x5);switch(_0x2804e9){case 0x0:generateFirstBrick(me['X'],me['Y']),generateFirstBrick(me['X']+0x1,me['Y']+0x1);break;case 0x1:generateFirstBrick(me['X']+0x1,me['Y']),generateFirstBrick(me['X'],me['Y']+0x1);break;case 0x2:generateFirstBrick(me['X'],me['Y']),generateFirstBrick(me['X']+0x1,me['Y']);break;case 0x3:generateFirstBrick(me['X'],me['Y']+0x1),generateFirstBrick(me['X']+0x1,me['Y']+0x1);break;case 0x4:generateFirstBrick(me['X'],me['Y']),generateFirstBrick(me['X'],me['Y']+0x1);break;case 0x5:generateFirstBrick(me['X']+0x1,me['Y']),generateFirstBrick(me['X']+0x1,me['Y']+0x1);}}else{mX=me['X']+me[_0x2c17bb(0x293)]/0x2,mY=me['Y']+me[_0x2c17bb(0x293)]/0x2;let _0xa39bcc=randomInt31(0x7);switch(_0xa39bcc){case 0x0:generateFirstBrick(mX-0x1,mY-0x1),generateFirstBrick(mX-0x1,mY),generateFirstBrick(mX,mY-0x1),generateFirstBrick(mX,mY);break;case 0x1:generateFirstBrick(mX-0x2,mY-0x1),generateFirstBrick(mX-0x2,mY),generateFirstBrick(mX-0x1,mY-0x2),generateFirstBrick(mX,mY-0x2),generateFirstBrick(mX-0x1,mY+0x1),generateFirstBrick(mX,mY+0x1),generateFirstBrick(mX+0x1,mY-0x1),generateFirstBrick(mX+0x1,mY),generateFirstBrick(mX-0x1,mY-0x1),generateFirstBrick(mX-0x1,mY),generateFirstBrick(mX,mY-0x1),generateFirstBrick(mX,mY);break;case 0x2:generateFirstBrick(mX-0x2,mY-0x1),generateFirstBrick(mX-0x1,mY+0x1),generateFirstBrick(mX+0x1,mY),generateFirstBrick(mX,mY-0x2),generateFirstBrick(mX-0x1,mY-0x1),generateFirstBrick(mX-0x1,mY),generateFirstBrick(mX,mY-0x1),generateFirstBrick(mX,mY);break;case 0x3:generateFirstBrick(mX-0x2,mY-0x2),generateFirstBrick(mX-0x2,mY+0x1),generateFirstBrick(mX+0x1,mY+0x1),generateFirstBrick(mX+0x1,mY-0x2),generateFirstBrick(mX-0x1,mY-0x1),generateFirstBrick(mX-0x1,mY),generateFirstBrick(mX,mY-0x1),generateFirstBrick(mX,mY);break;case 0x4:generateFirstBrick(mX-0x1,mY-0x2),generateFirstBrick(mX-0x1,mY+0x1),generateFirstBrick(mX,mY+0x1),generateFirstBrick(mX,mY-0x2),generateFirstBrick(mX-0x1,mY-0x1),generateFirstBrick(mX-0x1,mY),generateFirstBrick(mX,mY-0x1),generateFirstBrick(mX,mY);break;case 0x5:generateFirstBrick(mX-0x2,mY-0x1),generateFirstBrick(mX-0x2,mY),generateFirstBrick(mX+0x1,mY-0x1),generateFirstBrick(mX+0x1,mY),generateFirstBrick(mX-0x1,mY-0x1),generateFirstBrick(mX-0x1,mY),generateFirstBrick(mX,mY-0x1),generateFirstBrick(mX,mY);break;case 0x6:generateFirstBrick(mX-0x2,mY-0x2),generateFirstBrick(mX-0x1,mY-0x2),generateFirstBrick(mX,mY-0x2),generateFirstBrick(mX+0x1,mY-0x2),generateFirstBrick(mX-0x2,mY+0x1),generateFirstBrick(mX-0x1,mY+0x1),generateFirstBrick(mX,mY+0x1),generateFirstBrick(mX+0x1,mY+0x1);break;case 0x7:generateFirstBrick(mX-0x2,mY-0x2),generateFirstBrick(mX-0x2,mY-0x1),generateFirstBrick(mX-0x2,mY),generateFirstBrick(mX-0x2,mY+0x1),generateFirstBrick(mX+0x1,mY-0x2),generateFirstBrick(mX+0x1,mY-0x1),generateFirstBrick(mX+0x1,mY),generateFirstBrick(mX+0x1,mY+0x1);}}}function generateFirstBrick(_0x38537c,_0x352843){const _0x78eb4e=_0x4aa168;-0x1!=xy[_0x38537c][_0x352843]?0xff==(brick=bricks[_0x78eb4e(0x2c5)](xy[_0x38537c][_0x352843]))['MasterId']&&(brick[_0x78eb4e(0x34a)]=0x0,me[_0x78eb4e(0x2a0)]['push'](brick['ID'])):(newBrick=new Brick(_0x38537c,_0x352843,idBrick,0x0),bricks[_0x78eb4e(0x32c)](idBrick,newBrick),xy[newBrick['X']][newBrick['Y']]=idBrick,idBrick++,me[_0x78eb4e(0x2a0)][_0x78eb4e(0x1f9)](newBrick['ID']));}function initGame(){clearStructures(),runGame();}$(_0x4aa168(0x24c))['click'](function(_0x26f3d0){acClick(0x0,_0x26f3d0);}),$('#ac1')[_0x4aa168(0x32d)](function(_0x19767b){acClick(0x1,_0x19767b);}),$(_0x4aa168(0x34b))[_0x4aa168(0x32d)](function(_0x49db1b){acClick(0x2,_0x49db1b);}),$('#ac3')[_0x4aa168(0x32d)](function(_0x58ce1e){acClick(0x3,_0x58ce1e);}),$(_0x4aa168(0x221))[_0x4aa168(0x32d)](function(_0x55bb41){acClick(0x4,_0x55bb41);}),$('#ac5')[_0x4aa168(0x32d)](function(_0x18564c){acClick(0x5,_0x18564c);}),$(_0x4aa168(0x2a9))[_0x4aa168(0x32d)](function(_0x2c8ffd){asClick(0x0,_0x2c8ffd);}),$(_0x4aa168(0x2ea))['click'](function(_0x3bc407){asClick(0x1,_0x3bc407);}),$('#as2')['click'](function(_0x51701b){asClick(0x2,_0x51701b);}),$('#stg')[_0x4aa168(0x32d)](function(_0x55cd2d){const _0x57a765=_0x4aa168;statusCharm[_0x57a765(0x2fb)](''),_0x55cd2d[_0x57a765(0x278)](),silver>=0x2?(silver-=0x2,gold+=0x1,updateCoins()):statusCharm[_0x57a765(0x2fb)](_0x57a765(0x219));}),$(_0x4aa168(0x28d))[_0x4aa168(0x32d)](function(_0xbcc527){const _0x223884=_0x4aa168;statusCharm['html'](''),_0xbcc527['stopPropagation'](),bronze>=0x4?(bronze-=0x4,gold+=0x1,updateCoins()):statusCharm[_0x223884(0x2fb)]('Not\x20enough\x20bronze');}),$(_0x4aa168(0x21f))[_0x4aa168(0x32d)](function(_0x5d1445){const _0xdf08e1=_0x4aa168;statusCharm[_0xdf08e1(0x2fb)](''),_0x5d1445[_0xdf08e1(0x278)](),gold>=0x1?(gold-=0x1,myPoints+=0x64,updateCoins(),updatePoints()):statusCharm[_0xdf08e1(0x2fb)](_0xdf08e1(0x2f9));}),$(_0x4aa168(0x2ec))[_0x4aa168(0x32d)](function(_0x55b42c){const _0x3b4b1b=_0x4aa168;_0x55b42c['stopPropagation'](),$(_0x3b4b1b(0x20c))[_0x3b4b1b(0x2ac)](),$('#SkinsTab')[_0x3b4b1b(0x2d5)](),$('#TrophiesTab')[_0x3b4b1b(0x2d5)](),document[_0x3b4b1b(0x259)](_0x3b4b1b(0x223))[_0x3b4b1b(0x2b4)][_0x3b4b1b(0x244)]('selected'),document['getElementById'](_0x3b4b1b(0x2cf))['classList'][_0x3b4b1b(0x2b8)](_0x3b4b1b(0x377)),document[_0x3b4b1b(0x259)](_0x3b4b1b(0x2ae))['classList'][_0x3b4b1b(0x2b8)](_0x3b4b1b(0x377)),statusCharm['html']('');}),$(_0x4aa168(0x239))[_0x4aa168(0x32d)](function(_0x410071){const _0x206f24=_0x4aa168;_0x410071[_0x206f24(0x278)](),$(_0x206f24(0x20c))[_0x206f24(0x2d5)](),$(_0x206f24(0x375))[_0x206f24(0x2ac)](),$(_0x206f24(0x368))[_0x206f24(0x2d5)](),document[_0x206f24(0x259)](_0x206f24(0x223))[_0x206f24(0x2b4)][_0x206f24(0x2b8)](_0x206f24(0x377)),document[_0x206f24(0x259)](_0x206f24(0x2cf))[_0x206f24(0x2b4)][_0x206f24(0x244)]('selected'),document[_0x206f24(0x259)](_0x206f24(0x2ae))[_0x206f24(0x2b4)][_0x206f24(0x2b8)](_0x206f24(0x377)),statusCharm[_0x206f24(0x2fb)]('');}),$(_0x4aa168(0x1f6))[_0x4aa168(0x32d)](function(_0x44d48c){const _0x14e767=_0x4aa168;_0x44d48c[_0x14e767(0x278)](),$('#CharmsTab')[_0x14e767(0x2d5)](),$(_0x14e767(0x375))['hide'](),$(_0x14e767(0x368))[_0x14e767(0x2ac)](),document[_0x14e767(0x259)](_0x14e767(0x223))[_0x14e767(0x2b4)][_0x14e767(0x2b8)](_0x14e767(0x377)),document[_0x14e767(0x259)](_0x14e767(0x2cf))[_0x14e767(0x2b4)][_0x14e767(0x2b8)]('selected'),document[_0x14e767(0x259)]('Trophies')[_0x14e767(0x2b4)][_0x14e767(0x244)](_0x14e767(0x377)),statusCharm[_0x14e767(0x2fb)]('');});const sleep=_0x27ee53=>new Promise(_0x14ebf5=>setTimeout(_0x14ebf5,_0x27ee53));function zoom(){const _0x16986f=_0x4aa168;if(currentViewSizeX=(Math['floor'](me[_0x16986f(0x293)]/0x4)+0x2)*ZOOMFACTORX,currentViewSizeY=(Math[_0x16986f(0x351)](me[_0x16986f(0x293)]/0x4)+0x2)*ZOOMFACTORY,canvas[_0x16986f(0x22c)]>canvas[_0x16986f(0x335)]){var _0x7fc7e3;currentViewSizeY=(_0x7fc7e3=currentViewSizeX,currentViewSizeX=currentViewSizeY,_0x7fc7e3);}currentViewX=me['X']-Math[_0x16986f(0x351)](currentViewSizeX/0x2)+me[_0x16986f(0x293)]/0x2,currentViewY=me['Y']-Math[_0x16986f(0x351)](currentViewSizeY/0x2)+me[_0x16986f(0x293)]/0x2,calculateDrawParams(),updateBricksInViewFunction();}function updateColorsMode(){drawBricksFunction=colorsMode?drawBricksColors:drawBricks;}function updateCurrentViewXY(_0x3c4913){const _0x52852f=_0x4aa168;if(currentViewSizeX=(Math[_0x52852f(0x351)](_0x3c4913/0x4)+0x2)*ZOOMFACTORX,currentViewSizeY=(Math[_0x52852f(0x351)](_0x3c4913/0x4)+0x2)*ZOOMFACTORY,canvas[_0x52852f(0x22c)]>canvas['width']){var _0x1a7733;currentViewSizeY=(_0x1a7733=currentViewSizeX,currentViewSizeX=currentViewSizeY,_0x1a7733);}currentViewX=me['X']-Math['floor'](currentViewSizeX/0x2)+_0x3c4913/0x2,currentViewY=me['Y']-Math[_0x52852f(0x351)](currentViewSizeY/0x2)+_0x3c4913/0x2;}function calculateMeXY(){const _0x2026f9=_0x4aa168;let _0x5ce784=me['X']-currentViewX,_0x378456=me['Y']-currentViewY;meXsegX=_0x5ce784*segX,meYsegY=_0x378456*segY;let _0x2732da=me[_0x2026f9(0x293)]*segX,_0x89b2f7=me[_0x2026f9(0x293)]*segY;meXsegXmeSIZEsegX=meXsegX+_0x2732da,meYsegYmeSIZEsegY=meYsegY+_0x89b2f7;}function setGiftText(){const _0x5e605f=_0x4aa168;let _0x1a7aa7={'top':(me[_0x5e605f(0x293)]<0x12?0x2*unit:1.5*unit)+'px'};gifts[_0x5e605f(0x346)](_0x1a7aa7),_0x1a7aa7={'left':(canvas[_0x5e605f(0x335)]-gifts[_0x5e605f(0x335)]())/0x2+'px'},gifts[_0x5e605f(0x346)](_0x1a7aa7);}function setupGift(_0x339c03){const _0x1097ec=_0x4aa168;gifts[_0x1097ec(0x346)]({'left':_0x1097ec(0x2c8)}),gifts[_0x1097ec(0x2fb)](_0x339c03),setGiftText();}async function showGift(_0x41f88f){const _0x8a6a30=_0x4aa168;if(await sleep(giftsqueue[_0x8a6a30(0x2c6)](_0x41f88f)),giftsqueue['isEmpty']())return;let _0x517eda=giftsqueue[_0x8a6a30(0x22a)]();setupGift(giftNames[_0x517eda]),gifts[_0x8a6a30(0x346)](cssVisible),await sleep(giftSleeps[_0x517eda]-0x1f4),gifts[_0x8a6a30(0x346)](cssHidden);}function collapseAllMenu(){const _0xe8ad5d=_0x4aa168;statusexpand['hide'](),helpexpand[_0xe8ad5d(0x2d5)](),scoreexpand['hide'](),settingsexpand[_0xe8ad5d(0x2d5)](),hide||(statuscollapsed[_0xe8ad5d(0x346)](cssVisible),helpcollapsed[_0xe8ad5d(0x346)](cssVisible),scorecollapsed[_0xe8ad5d(0x346)](cssVisible)),settingscollapsed[_0xe8ad5d(0x346)](cssVisible);}function updateBricksInView(){const _0x553a36=_0x4aa168;bricksInViewFree[_0x553a36(0x1f5)](),bricksInViewMe[_0x553a36(0x1f5)]();let _0x11558e=Math['min'](currentViewX+currentViewSizeX,0x200),_0x2ecc4d=Math['min'](currentViewY+currentViewSizeY,0x200);for(let _0x216651=Math[_0x553a36(0x1f3)](0x0,currentViewX);_0x216651!==_0x11558e;++_0x216651)for(let _0x3a88e7=Math[_0x553a36(0x1f3)](0x0,currentViewY);_0x3a88e7!==_0x2ecc4d;++_0x3a88e7){let _0x582405=xy[_0x216651][_0x3a88e7];if(-0x1!==_0x582405&&void 0x0!==_0x582405){let _0x1666f7=bricks[_0x553a36(0x2c5)](_0x582405);_0x1666f7[_0x553a36(0x34a)]===myId?bricksInViewMe['set'](_0x582405,_0x1666f7):0xff===_0x1666f7[_0x553a36(0x34a)]&&bricksInViewFree[_0x553a36(0x32c)](_0x582405,_0x1666f7);}}}function updateBricksInViewWithMinimap(){const _0x5c1bf7=_0x4aa168;bricksInViewFree[_0x5c1bf7(0x1f5)](),bricksInViewMe['clear'](),bricksInMini[_0x5c1bf7(0x1f5)](),midCurrentViewX=currentViewX+currentViewSizeX/0x2,midCurrentViewY=currentViewY+currentViewSizeY/0x2;let _0x47146f=currentViewX+currentViewSizeX,_0x4de44d=currentViewY+currentViewSizeY;XMini=midCurrentViewX-MiniW2,YMini=midCurrentViewY-MiniH2;let _0x107034,_0x152d61,_0xab37e1=Math[_0x5c1bf7(0x2af)](Math[_0x5c1bf7(0x1f3)](_0x47146f,endXMini=midCurrentViewX+MiniW2),0x200),_0x639e7a=Math[_0x5c1bf7(0x2af)](Math[_0x5c1bf7(0x1f3)](_0x4de44d,endYMini=midCurrentViewY+MiniH2),0x200);for(let _0x5eda72=Math[_0x5c1bf7(0x1f3)](0x0,Math[_0x5c1bf7(0x2af)](currentViewX,XMini));_0x5eda72!==_0xab37e1;++_0x5eda72)for(let _0x12b556=Math[_0x5c1bf7(0x1f3)](0x0,Math['min'](currentViewY,YMini));_0x12b556!==_0x639e7a;++_0x12b556)-0x1!==(_0x107034=xy[_0x5eda72][_0x12b556])&&void 0x0!==_0x107034&&(_0x152d61=bricks[_0x5c1bf7(0x2c5)](_0x107034),currentViewX<=_0x5eda72&&_0x5eda72<_0x47146f&&currentViewY<=_0x12b556&&_0x12b556<_0x4de44d&&(_0x152d61['MasterId']===myId?bricksInViewMe[_0x5c1bf7(0x32c)](_0x107034,_0x152d61):0xff===_0x152d61['MasterId']&&bricksInViewFree[_0x5c1bf7(0x32c)](_0x107034,_0x152d61)),XMini<=_0x5eda72&&_0x5eda72<endXMini&&YMini<=_0x12b556&&_0x12b556<endYMini&&bricksInMini[_0x5c1bf7(0x32c)](_0x107034,_0x152d61));}Game['_onEachFrame']=(function(){const _0x1a34d1=_0x4aa168;let _0x41ab80=window['requestAnimationFrame']||window[_0x1a34d1(0x28a)]||window[_0x1a34d1(0x253)]||window[_0x1a34d1(0x25c)];return _0x41ab80?function(_0x2d2db0){let _0x67f8e3=function(){_0x2d2db0(),_0x41ab80(_0x67f8e3);};_0x67f8e3();}:function(_0x12d5eb){const _0x3e486a=_0x1a34d1;setInterval(_0x12d5eb,0x3e8/Game[_0x3e486a(0x20f)]);};}());let nextGameTick;function getCurrentDirection(){const _0x3cf143=_0x4aa168;curDir=-0x1,Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x2d4)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x270)])&&Key[_0x3cf143(0x316)](Key['UP'])?curDir=-0x1:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])&&Key['isDown'](Key['DOWN'])&&Key['isDown'](Key['UP'])?curDir=LEFT:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x2d4)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x270)])&&Key[_0x3cf143(0x316)](Key['UP'])?curDir=RIGHT:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x2d4)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])&&Key[_0x3cf143(0x316)](Key['UP'])?curDir=UP:Key['isDown'](Key[_0x3cf143(0x2d4)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x270)])?curDir=DOWN:Key[_0x3cf143(0x316)](Key['RIGHT'])&&Key[_0x3cf143(0x316)](Key['UP'])?curDir=NE:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])&&Key['isDown'](Key['UP'])?curDir=NW:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x2d4)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x270)])?curDir=SE:Key['isDown'](Key[_0x3cf143(0x224)])&&Key[_0x3cf143(0x316)](Key['DOWN'])?curDir=SW:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x2d4)])?curDir=-0x1:Key[_0x3cf143(0x316)](Key['UP'])&&Key[_0x3cf143(0x316)](Key[_0x3cf143(0x270)])?curDir=-0x1:Key[_0x3cf143(0x316)](Key[_0x3cf143(0x224)])?curDir=LEFT:Key[_0x3cf143(0x316)](Key['RIGHT'])?curDir=RIGHT:Key['isDown'](Key['UP'])?curDir=UP:Key['isDown'](Key[_0x3cf143(0x270)])&&(curDir=DOWN);}function GameIntro(){const _0x31c0fe=_0x4aa168;introSteps>0x0?(ZOOMFACTORX-=introStepsX,ZOOMFACTORY-=introStepsY,zoom(),introSteps-=0x1):(intro=!0x1,shadows=!0x0,playerText[_0x31c0fe(0x2ac)](),playerTextTTL[_0x31c0fe(0x2ac)](),calculateDrawParams(),Game[_0x31c0fe(0x349)]=GameUpdate);}Game[_0x4aa168(0x2ad)]=(function(){const _0x55cb7b=_0x4aa168;let _0x40627d=0x0,_0x4a0051=0x3e8/Game[_0x55cb7b(0x20f)];return function(){const _0x45685a=_0x55cb7b;for(_0x40627d=0x0;new Date()['getTime']()>nextGameTick;)Game[_0x45685a(0x349)](),nextGameTick+=_0x4a0051,_0x40627d++;_0x40627d&&redrawFunction();};}());let pos={'posx':0x0,'posy':0x0};function Clock(){const _0x472695=_0x4aa168;if(++seconds,myTtl-=0x1,doOverlap(me['X'],me['Y'],me['X']+me[_0x472695(0x293)],me['Y']+me[_0x472695(0x293)],fieldPointsX,fieldPointsY,fieldPointsXEnd,fieldPointsYEnd)?myPoints+=0xfa:myPoints+=myPointRate,seconds%0x1e==0x0&&(myPoints=Math[_0x472695(0x1f3)](myPoints-drainRate,0x0)),factory&&seconds%0x5==0x0){endx=me['X']+me[_0x472695(0x293)],endy=me['Y']+me['Size'];_0x2f8f30:for(j=me['Y'];j<endy;++j)for(i=me['X'];i<endx;++i)if(-0x1==xy[i][j]){newBrick=new Brick(i,j,idBrick,0xff),bricks[_0x472695(0x32c)](idBrick,newBrick),xy[i][j]=idBrick,idBrick++,updateBricksInViewFunction();break _0x2f8f30;}}if(updateTtl(),updatePoints(),myTtl<=0x0){endGame();return;}for(checkFields(),wallDirection?++wallXY:--wallXY,(0x0==wallXY||0x1ff==wallXY)&&(wallDirection=!wallDirection),runNotifyCoins&&(myTtl%0x2==0x0?statuscollapsed['css'](cssStatusCollapsedBlinkOff):statuscollapsed[_0x472695(0x346)](cssStatusCollapsedBlinkOn)),0xa==(fieldCycle=seconds%0x3c)||0x28==fieldCycle?(computeFieldPos(pos,fieldIceSize=(0x1+randomInt31(0x30))*0x2),fieldIceX=pos['posx'],fieldIceY=pos[_0x472695(0x281)],fieldIceXEnd=fieldIceX+fieldIceSize,fieldIceYEnd=fieldIceY+fieldIceSize):0x12==fieldCycle||0x30==fieldCycle?(fieldIceX=0x200,fieldIceY=0x200,fieldIceXEnd=0x200,fieldIceYEnd=0x200,fieldIceSize=0x0):0x19==fieldCycle||0x37==fieldCycle?(computeFieldPos(pos,fieldFireSize=(0x1+randomInt31(0x30))*0x2),fieldFireX=pos[_0x472695(0x27c)],fieldFireY=pos[_0x472695(0x281)],fieldFireXEnd=fieldFireX+fieldFireSize,fieldFireYEnd=fieldFireY+fieldFireSize):(0x23==fieldCycle||0x5==fieldCycle)&&(fieldFireX=0x200,fieldFireY=0x200,fieldFireXEnd=0x200,fieldFireYEnd=0x200,fieldFireSize=0x0),0x0==(fieldCycle=seconds/0x1e%0x3)?(computeFieldPos(pos,fieldPointsSize=(0x1+randomInt31(0x30))*0x2+0x6),fieldPointsX=pos[_0x472695(0x27c)],fieldPointsY=pos[_0x472695(0x281)],fieldPointsXEnd=fieldPointsX+fieldPointsSize,fieldPointsYEnd=fieldPointsY+fieldPointsSize):0x2==fieldCycle&&(fieldPointsX=0x200,fieldPointsY=0x200,fieldPointsXEnd=0x200,fieldPointsYEnd=0x200,fieldPointsSize=0x0),0x96==(autoMagnetCycle=seconds%AUTOMAGNET_CYCLE)?(autoMagnet=!0x0,gift(0x31)):0x0==autoMagnetCycle&&(autoMagnet=!0x1,gift(0x32)),i=0x0;i<0xa;i++){if(bricks[_0x472695(0x2fd)]>=0x2400)return;computeBrickInitialPos(pos),generateShape(randomInt31(SHAPE_COUNT-0x1),pos[_0x472695(0x27c)],pos[_0x472695(0x281)]);}updateBricksInViewFunction();}function checkFields(){const _0xa34922=_0x4aa168;if(!immuneIce){if(doOverlap(me['X'],me['Y'],me['X']+me[_0xa34922(0x293)],me['Y']+me[_0xa34922(0x293)],fieldIceX,fieldIceY,fieldIceXEnd,fieldIceYEnd)&&!me['Chain']){me['Chain']=!0x0,expireChainField(gameInstance),gift(0x2);let _0x11b854=me['X']-currentViewX,_0x491015=me['Y']-currentViewY,_0x4e413c=(_0x11b854+me[_0xa34922(0x293)]/0x2)*segX,_0x420837=(_0x491015+me[_0xa34922(0x293)]/0x2)*segY;me[_0xa34922(0x2a4)](_0x4e413c,_0x420837,me[_0xa34922(0x293)]*me[_0xa34922(0x293)]);}if(me['X']<=wallXY&&wallXY<me['X']+me['Size']&&!me[_0xa34922(0x210)]){me['Chain']=!0x0,expireChainField(gameInstance),gift(0x2);let _0x189c23=me['X']-currentViewX,_0x16f528=me['Y']-currentViewY,_0x531626=(_0x189c23+me[_0xa34922(0x293)]/0x2)*segX,_0x4eb761=(_0x16f528+me[_0xa34922(0x293)]/0x2)*segY;me[_0xa34922(0x2a4)](_0x531626,_0x4eb761,me[_0xa34922(0x293)]*me['Size']);}}if(!immuneFire){if(me['Y']<=wallXY&&wallXY<me['Y']+me[_0xa34922(0x293)]){for(x=me['X'];x<me['X']+me[_0xa34922(0x293)];x++)if(-0x1!=(brickId=xy[x][wallXY])&&0xff!=(brick=bricks[_0xa34922(0x2c5)](brickId))[_0xa34922(0x34a)]){if(brick['ID']%0x97==0x0&&brick['ID']%0x64!=0x0&&brick['ID']%0xfb!=0x0&&brick['ID']%0x15d!=0x0&&brick['ID']%0x1f3!=0x0)explodedBricks=[],radius=getRadius(brick),explode(brick['X'],brick['Y'],radius),detonate();else{xy[x][wallXY]=-0x1,bricks[_0xa34922(0x21e)](brickId);for(let _0x4fa99f=0x0;_0x4fa99f<me[_0xa34922(0x2a0)]['length'];_0x4fa99f++)if(me[_0xa34922(0x2a0)][_0x4fa99f]===brick['ID']){me[_0xa34922(0x2a0)][_0xa34922(0x25f)](_0x4fa99f,0x1);break;}let _0x411349=brick['X']-currentViewX,_0x4ca720=brick['Y']-currentViewY,_0x1685a0=_0x411349*segX,_0x224baf=_0x4ca720*segY;me['initParticles'](_0x1685a0,_0x224baf,0x1);}}updateBricksInViewFunction(),updatePoints();}if(doOverlap(me['X'],me['Y'],me['X']+me[_0xa34922(0x293)],me['Y']+me['Size'],fieldFireX,fieldFireY,fieldFireXEnd,fieldFireYEnd)){for(x=fieldFireX;x<fieldFireXEnd;x++)for(y=fieldFireY;y<fieldFireYEnd;y++)if(-0x1!=(brickId=xy[x][y])&&0xff!=(brick=bricks['get'](brickId))[_0xa34922(0x34a)]){if(brick['ID']%0x97==0x0&&brick['ID']%0x64!=0x0&&brick['ID']%0xfb!=0x0&&brick['ID']%0x15d!=0x0&&brick['ID']%0x1f3!=0x0)explodedBricks=[],radius=getRadius(brick),explode(brick['X'],brick['Y'],radius),detonate();else{xy[x][y]=-0x1,bricks['delete'](brickId);for(let _0x4a0a4a=0x0;_0x4a0a4a<me[_0xa34922(0x2a0)][_0xa34922(0x300)];_0x4a0a4a++)if(me[_0xa34922(0x2a0)][_0x4a0a4a]===brick['ID']){me[_0xa34922(0x2a0)][_0xa34922(0x25f)](_0x4a0a4a,0x1);break;}let _0x5e3e37=brick['X']-currentViewX,_0x1311dc=brick['Y']-currentViewY,_0x278bd8=_0x5e3e37*segX,_0x3002a6=_0x1311dc*segY;me['initParticles'](_0x278bd8,_0x3002a6,0x1);}}updateBricksInViewFunction(),updatePoints();}}}function GameUpdate(){const _0x395d15=_0x4aa168;if((actionCounter+=0x1)===Game[_0x395d15(0x20f)]&&(actionCounter=0x0),(clockCounter+=0x1)===Game['fps']&&(Clock(),clockCounter=0x0),0x258===(animCounter+=0x1)&&(animCounter=0x0),me[_0x395d15(0x32e)](),actionCounter>=0x0&&actionCounter%mySpeed==0x0||processKey){if(processKey&&(processKey=!0x1,actionCounter=-0x6),!(Key[_0x395d15(0x316)](Key[_0x395d15(0x224)])&&Key['isDown'](Key[_0x395d15(0x2d4)])&&Key[_0x395d15(0x316)](Key[_0x395d15(0x270)])&&Key[_0x395d15(0x316)](Key['UP']))){if(Key[_0x395d15(0x316)](Key[_0x395d15(0x224)])&&Key[_0x395d15(0x316)](Key[_0x395d15(0x270)])&&Key[_0x395d15(0x316)](Key['UP'])){moveLeft();return;}if(Key[_0x395d15(0x316)](Key['RIGHT'])&&Key[_0x395d15(0x316)](Key[_0x395d15(0x270)])&&Key['isDown'](Key['UP'])){moveRight();return;}if(Key['isDown'](Key['RIGHT'])&&Key[_0x395d15(0x316)](Key[_0x395d15(0x224)])&&Key[_0x395d15(0x316)](Key['UP'])){moveUp();return;}if(Key['isDown'](Key['RIGHT'])&&Key[_0x395d15(0x316)](Key[_0x395d15(0x224)])&&Key[_0x395d15(0x316)](Key['DOWN'])){moveDown();return;}if(Key[_0x395d15(0x316)](Key[_0x395d15(0x224)])&&Key[_0x395d15(0x316)](Key['UP'])){moveNW();return;}if(Key[_0x395d15(0x316)](Key[_0x395d15(0x2d4)])&&Key[_0x395d15(0x316)](Key['UP'])){moveNE();return;}if(Key['isDown'](Key['RIGHT'])&&Key[_0x395d15(0x316)](Key['DOWN'])){moveSE();return;}if(Key[_0x395d15(0x316)](Key['LEFT'])&&Key[_0x395d15(0x316)](Key[_0x395d15(0x270)])){moveSW();return;}!(Key[_0x395d15(0x316)](Key[_0x395d15(0x224)])&&Key['isDown'](Key['RIGHT'])||Key[_0x395d15(0x316)](Key['UP'])&&Key[_0x395d15(0x316)](Key['DOWN']))&&(Key['isDown'](Key[_0x395d15(0x224)])&&moveLeft(),Key[_0x395d15(0x316)](Key[_0x395d15(0x2d4)])&&moveRight(),Key[_0x395d15(0x316)](Key['UP'])&&moveUp(),Key[_0x395d15(0x316)](Key[_0x395d15(0x270)])&&moveDown());}}}function validatePositionLeft(){const _0x5043f9=_0x4aa168;if(me['Chain'])return!0x1;var _0x431558=me['X']-0x1;if(_0x431558<0x0)return!0x1;for(var _0x18a3c7=0x0;_0x18a3c7<me[_0x5043f9(0x293)];_0x18a3c7++){var _0x232ac1=xy[_0x431558][me['Y']+_0x18a3c7];if(_0x232ac1<0x60&&-0x1!=_0x232ac1)return!0x1;}for(let _0x1c7435=0x0;_0x1c7435<me['Bricks']['length'];_0x1c7435++){let _0x5d39bb=bricks[_0x5043f9(0x2c5)](me[_0x5043f9(0x2a0)][_0x1c7435]);if(-0x1!=(brickIdNear=xy[brickNearX=_0x5d39bb['X']-0x1][_0x5d39bb['Y']])&&(brickNear=bricks[_0x5043f9(0x2c5)](brickIdNear),_0x5d39bb[_0x5043f9(0x34a)]!=brickNear[_0x5043f9(0x34a)])){if(!me[_0x5043f9(0x344)])return brickNear['X']>=me['X']&&brickNear['X']<me['X']+me[_0x5043f9(0x293)]&&brickNear['Y']>=me['Y']&&brickNear['Y']<me['Y']+me[_0x5043f9(0x293)]&&(catching=!0x0),!0x1;xy[brickNearX][_0x5d39bb['Y']]=-0x1,bricks[_0x5043f9(0x21e)](brickNear['Id']),brickNear['ID']%0x97==0x0&&brickNear['ID']%0x64!=0x0&&brickNear['ID']%0xfb!=0x0&&brickNear['ID']%0x15d!=0x0&&brickNear['ID']%0x1f3!=0x0&&bricksToExplode[_0x5043f9(0x1f9)](brickNear);}}return!0x0;}function validatePositionRight(){const _0x17ad71=_0x4aa168;if(me[_0x17ad71(0x210)])return!0x1;var _0x4a5828=me['X']+me[_0x17ad71(0x293)];if(_0x4a5828>=0x200)return!0x1;for(var _0x5e81db=0x0;_0x5e81db<me[_0x17ad71(0x293)];_0x5e81db++){var _0x56e006=xy[_0x4a5828][me['Y']+_0x5e81db];if(_0x56e006<0x60&&-0x1!=_0x56e006)return!0x1;}for(let _0x309361=0x0;_0x309361<me[_0x17ad71(0x2a0)][_0x17ad71(0x300)];_0x309361++){let _0x1a6161=bricks[_0x17ad71(0x2c5)](me[_0x17ad71(0x2a0)][_0x309361]);if(-0x1!=(brickIdNear=xy[brickNearX=_0x1a6161['X']+0x1][_0x1a6161['Y']])&&(brickNear=bricks['get'](brickIdNear),_0x1a6161['MasterId']!=brickNear[_0x17ad71(0x34a)])){if(!me[_0x17ad71(0x344)])return brickNear['X']>=me['X']&&brickNear['X']<me['X']+me[_0x17ad71(0x293)]&&brickNear['Y']>=me['Y']&&brickNear['Y']<me['Y']+me[_0x17ad71(0x293)]&&(catching=!0x0),!0x1;xy[brickNearX][_0x1a6161['Y']]=-0x1,bricks[_0x17ad71(0x21e)](brickNear['Id']),brickNear['ID']%0x97==0x0&&brickNear['ID']%0x64!=0x0&&brickNear['ID']%0xfb!=0x0&&brickNear['ID']%0x15d!=0x0&&brickNear['ID']%0x1f3!=0x0&&bricksToExplode[_0x17ad71(0x1f9)](brickNear);}}return!0x0;}function validatePositionUp(){const _0x59399b=_0x4aa168;if(me[_0x59399b(0x210)])return!0x1;var _0x2937c8=me['Y']-0x1;if(_0x2937c8<0x0)return!0x1;for(var _0x171a9f=0x0;_0x171a9f<me[_0x59399b(0x293)];_0x171a9f++){var _0x27081a=xy[me['X']+_0x171a9f][_0x2937c8];if(_0x27081a<0x60&&-0x1!=_0x27081a)return!0x1;}for(let _0x23ed89=0x0;_0x23ed89<me[_0x59399b(0x2a0)][_0x59399b(0x300)];_0x23ed89++){let _0xceb01a=bricks[_0x59399b(0x2c5)](me['Bricks'][_0x23ed89]);var _0x507287=_0xceb01a['Y']-0x1;if(-0x1!=(brickIdNear=xy[_0xceb01a['X']][_0x507287])&&(brickNear=bricks[_0x59399b(0x2c5)](brickIdNear),_0xceb01a[_0x59399b(0x34a)]!=brickNear[_0x59399b(0x34a)])){if(!me['Fire'])return brickNear['X']>=me['X']&&brickNear['X']<me['X']+me[_0x59399b(0x293)]&&brickNear['Y']>=me['Y']&&brickNear['Y']<me['Y']+me[_0x59399b(0x293)]&&(catching=!0x0),!0x1;xy[_0xceb01a['X']][_0x507287]=-0x1,bricks[_0x59399b(0x21e)](brickNear['Id']),brickNear['ID']%0x97==0x0&&brickNear['ID']%0x64!=0x0&&brickNear['ID']%0xfb!=0x0&&brickNear['ID']%0x15d!=0x0&&brickNear['ID']%0x1f3!=0x0&&bricksToExplode['push'](brickNear);}}return!0x0;}function validatePositionDown(){const _0x6cc335=_0x4aa168;if(me['Chain'])return!0x1;var _0x3182d8=me['Y']+me[_0x6cc335(0x293)];if(_0x3182d8>=0x200)return!0x1;for(var _0x1677dd=0x0;_0x1677dd<me[_0x6cc335(0x293)];_0x1677dd++){var _0x52d609=xy[me['X']+_0x1677dd][_0x3182d8];if(_0x52d609<0x60&&-0x1!=_0x52d609)return!0x1;}for(let _0x37a1a8=0x0;_0x37a1a8<me[_0x6cc335(0x2a0)]['length'];_0x37a1a8++){let _0x2076b2=bricks[_0x6cc335(0x2c5)](me['Bricks'][_0x37a1a8]);var _0x4f6c6e=_0x2076b2['Y']+0x1;if(-0x1!=(brickIdNear=xy[_0x2076b2['X']][_0x4f6c6e])&&(brickNear=bricks[_0x6cc335(0x2c5)](brickIdNear),_0x2076b2[_0x6cc335(0x34a)]!=brickNear[_0x6cc335(0x34a)])){if(!me[_0x6cc335(0x344)])return brickNear['X']>=me['X']&&brickNear['X']<me['X']+me['Size']&&brickNear['Y']>=me['Y']&&brickNear['Y']<me['Y']+me[_0x6cc335(0x293)]&&(catching=!0x0),!0x1;xy[_0x2076b2['X']][_0x4f6c6e]=-0x1,bricks[_0x6cc335(0x21e)](brickNear['Id']),brickNear['ID']%0x97==0x0&&brickNear['ID']%0x64!=0x0&&brickNear['ID']%0xfb!=0x0&&brickNear['ID']%0x15d!=0x0&&brickNear['ID']%0x1f3!=0x0&&bricksToExplode[_0x6cc335(0x1f9)](brickNear);}}return!0x0;}function updateView(){const _0x88d71b=_0x4aa168;currentViewX=me['X']-Math['floor'](currentViewSizeX/0x2)+me[_0x88d71b(0x293)]/0x2,currentViewY=me['Y']-Math[_0x88d71b(0x351)](currentViewSizeY/0x2)+me[_0x88d71b(0x293)]/0x2,updateBricksInViewFunction();}function getRadius(_0x5ad8a2){return radius=0x1,(c=_0x5ad8a2['ID']/0x97)%0x7==0x0?radius=0x4:c%0x3==0x0&&(radius=0x2),radius;}function explodeOnMove(){const _0x36f3cc=_0x4aa168;for(i=0x0;i<bricksToExplode[_0x36f3cc(0x300)];i++)explodedBricks=[],radius=getRadius(bricksToExplode[i]),explode(bricksToExplode[i]['X'],bricksToExplode[i]['Y'],radius),detonate();}function detonate(){const _0x16ab65=_0x4aa168;for(i=0x0;i<explodedBricks[_0x16ab65(0x300)];i++){if(0xff!==(brick=explodedBricks[i])[_0x16ab65(0x34a)]){for(let _0x4bcad9=0x0;_0x4bcad9<me[_0x16ab65(0x2a0)][_0x16ab65(0x300)];_0x4bcad9++)if(me[_0x16ab65(0x2a0)][_0x4bcad9]===brick['ID']){me[_0x16ab65(0x2a0)]['splice'](_0x4bcad9,0x1);break;}}let _0x571964=brick['X']-currentViewX,_0x1bb51c=brick['Y']-currentViewY,_0x4059c9=_0x571964*segX,_0x25e6c3=_0x1bb51c*segY;me['initParticles'](_0x4059c9,_0x25e6c3,0x1),bricks['delete'](brick[_0x16ab65(0x2d8)]),updateBricksInViewFunction();}}function explode(_0x5169e1,_0x29bc0e,_0x1b4213){const _0x5cb05e=_0x4aa168;var _0x30c3f2,_0x2601b1;for(-0x1!=xy[_0x5169e1][_0x29bc0e]&&(brick=bricks[_0x5cb05e(0x2c5)](xy[_0x5169e1][_0x29bc0e]),xy[_0x5169e1][_0x29bc0e]=-0x1,explodedBricks[_0x5cb05e(0x1f9)](brick)),endx=Math['min'](_0x5169e1+_0x1b4213,0x1ff),endj=Math[_0x5cb05e(0x2af)](_0x29bc0e+_0x1b4213,0x1ff),_0x30c3f2=Math[_0x5cb05e(0x1f3)](0x0,_0x5169e1-_0x1b4213);_0x30c3f2<=endx;_0x30c3f2++)for(_0x2601b1=Math[_0x5cb05e(0x1f3)](0x0,_0x29bc0e-_0x1b4213);_0x2601b1<=endj;_0x2601b1++)(_0x30c3f2-_0x5169e1)*(_0x30c3f2-_0x5169e1)+(_0x2601b1-_0x29bc0e)*(_0x2601b1-_0x29bc0e)<=_0x1b4213*_0x1b4213&&-0x1!=xy[_0x30c3f2][_0x2601b1]&&(brick=bricks[_0x5cb05e(0x2c5)](xy[_0x30c3f2][_0x2601b1]),xy[_0x30c3f2][_0x2601b1]=-0x1,explodedBricks['push'](brick),brick['ID']%0x97==0x0&&brick['ID']%0x64!=0x0&&brick['ID']%0xfb!=0x0&&brick['ID']%0x15d!=0x0&&brick['ID']%0x1f3!=0x0&&brick['ID']>0x62&&explode(_0x30c3f2,_0x2601b1,radius=getRadius(brick)));}let bricksToExplode,explodedBricks;function moveLeft(){bricksToExplode=[],catching=!0x1,validatePositionLeft()?(movePlayer(-0x1,0x0),explodeOnMove()):catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveRight(){bricksToExplode=[],catching=!0x1,validatePositionRight()?(movePlayer(0x1,0x0),explodeOnMove()):catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveUp(){bricksToExplode=[],catching=!0x1,validatePositionUp()?(movePlayer(0x0,-0x1),explodeOnMove()):catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveDown(){bricksToExplode=[],catching=!0x1,validatePositionDown()?(movePlayer(0x0,0x1),explodeOnMove()):catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveNW(){bricksToExplode=[],catching=!0x1;var _0x4f74b0=!0x1,_0x1ac65a=!0x1;validatePositionLeft()&&(movePlayer(-0x1,0x0),_0x4f74b0=!0x0),validatePositionUp()&&(movePlayer(0x0,-0x1),_0x1ac65a=!0x0),(_0x4f74b0||_0x1ac65a)&&explodeOnMove(),catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveNE(){bricksToExplode=[],catching=!0x1;var _0x138986=!0x1,_0x1ad063=!0x1;validatePositionRight()&&(movePlayer(0x1,0x0),_0x138986=!0x0),validatePositionUp()&&(movePlayer(0x0,-0x1),_0x1ad063=!0x0),(_0x138986||_0x1ad063)&&explodeOnMove(),catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveSE(){bricksToExplode=[],catching=!0x1;var _0x14f6c6=!0x1,_0x14b0f8=!0x1;validatePositionRight()&&(movePlayer(0x1,0x0),_0x14b0f8=!0x0),validatePositionDown()&&(movePlayer(0x0,0x1),_0x14f6c6=!0x0),(_0x14b0f8||_0x14f6c6)&&explodeOnMove(),catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}function moveSW(){bricksToExplode=[],catching=!0x1;var _0x40afad=!0x1,_0x58c576=!0x1;validatePositionLeft()&&(movePlayer(-0x1,0x0),_0x40afad=!0x0),validatePositionDown()&&(movePlayer(0x0,0x1),_0x58c576=!0x0),(_0x40afad||_0x58c576)&&explodeOnMove(),catching&&(catchSpell(),autoMagnet&&magnetFreeSpell()),updateView();}let loaded=!0x1,requestedStart=!0x1;function setupGame(){const _0x41de85=_0x4aa168;document[_0x41de85(0x36b)][_0x41de85(0x328)][_0x41de85(0x28e)]='none',gamecanvas[_0x41de85(0x346)](cssVisible),setEnabledSpells(0xb8),setEnabledCharms(charms,charmsOwned,charmsEquipped),setEnabledSkins(skins,skinsOwned,skinsEquipped),setEnabledTrophies(trophies=0x0,trophiesOwned,trophiesEquipped),$(_0x41de85(0x27b))[_0x41de85(0x2fb)](0x28),$(_0x41de85(0x2bd))[_0x41de85(0x2fb)](0x78),$('#cp2')[_0x41de85(0x2fb)](0xf0),$(_0x41de85(0x35c))[_0x41de85(0x2fb)](0x64),$(_0x41de85(0x232))[_0x41de85(0x2fb)](0x64),$(_0x41de85(0x267))[_0x41de85(0x2fb)](0x0),$(_0x41de85(0x291))[_0x41de85(0x2fb)](0x3c),$('#sp1')['html'](0x50),$(_0x41de85(0x2d7))[_0x41de85(0x2fb)](0x64),tml=0xa;for(let _0x1e22f4=0x0;_0x1e22f4<0x3;++_0x1e22f4)$('#tm'+_0x1e22f4)[_0x41de85(0x2fb)](tml);$(_0x41de85(0x373))[_0x41de85(0x2fb)](0x0),$(_0x41de85(0x2be))['html'](0x0),$(_0x41de85(0x284))[_0x41de85(0x2fb)](0x0),window[_0x41de85(0x299)](_0x41de85(0x29f),handleKeyUp,!0x1),window[_0x41de85(0x299)](_0x41de85(0x262),handleKeyDown,!0x1),canvas['addEventListener'](_0x41de85(0x2b6),handleStart,!0x1),canvas['addEventListener'](_0x41de85(0x248),handleMove,!0x1),canvas[_0x41de85(0x299)]('touchend',handleEnd,!0x1),canvas[_0x41de85(0x299)](_0x41de85(0x220),handleCancel,!0x1),canvas[_0x41de85(0x299)]('mousedown',handleMouseDown,!0x1),canvas[_0x41de85(0x299)](_0x41de85(0x33f),handleMouseMove,!0x1),canvas[_0x41de85(0x299)](_0x41de85(0x204),handleMouseUp,!0x1),myId=0x0;}function touchToClick(_0x3553f0){$(_0x3553f0)['on']('touchstart',function(_0x4839a9){const _0x38f3af=_0x3fc2;_0x4839a9[_0x38f3af(0x24a)][_0x38f3af(0x32d)](),_0x4839a9[_0x38f3af(0x26f)]();});}function clearStructures(){const _0x5cd820=_0x4aa168;if(notifyCoins=!0x0,runNotifyCoins=!0x1,zoomOut(),players[_0x5cd820(0x1f5)](),bricksInMini[_0x5cd820(0x1f5)](),bricksInViewFree[_0x5cd820(0x1f5)](),bricksInViewMe[_0x5cd820(0x1f5)](),bricks[_0x5cd820(0x1f5)](),idBrick=0x0,0x0===xy[_0x5cd820(0x300)]){xy=Array(0x200);for(let _0x3cef70=0x0;_0x3cef70<0x200;_0x3cef70++){xy[_0x3cef70]=Array(0x200);for(let _0x5499b0=0x0;_0x5499b0<0x200;_0x5499b0++)xy[_0x3cef70][_0x5499b0]=-0x1;}}else{for(let _0x1a5ff2=0x0;_0x1a5ff2<xy[_0x5cd820(0x300)];_0x1a5ff2++)for(let _0x487406=0x0;_0x487406<xy[_0x1a5ff2][_0x5cd820(0x300)];_0x487406++)xy[_0x1a5ff2][_0x487406]=-0x1;}gold=0xa,silver=0xa,bronze=0xa,goldCoins['html'](gold),silverCoins[_0x5cd820(0x2fb)](silver),bronzeCoins[_0x5cd820(0x2fb)](bronze),charmsEquipped=0x0,charmsOwned=0x0;for(let _0x1d3ce8=0x0;_0x1d3ce8<0x6;++_0x1d3ce8){let _0x230957=document[_0x5cd820(0x259)]('charm'+_0x1d3ce8);_0x230957['classList'][_0x5cd820(0x2b8)](_0x5cd820(0x23a)),_0x230957[_0x5cd820(0x2b4)][_0x5cd820(0x2b8)](_0x5cd820(0x287)),$(_0x5cd820(0x36c)+_0x1d3ce8)[_0x5cd820(0x2fb)](_0x5cd820(0x305));}skinsEquipped=0x0,skinsOwned=0x0;for(let _0x3701b2=0x0;_0x3701b2<0x3;++_0x3701b2){let _0x2a9eac=document[_0x5cd820(0x259)]('skin'+_0x3701b2);_0x2a9eac[_0x5cd820(0x2b4)][_0x5cd820(0x2b8)](_0x5cd820(0x23a)),_0x2a9eac[_0x5cd820(0x2b4)][_0x5cd820(0x2b8)](_0x5cd820(0x287)),$(_0x5cd820(0x2ee)+_0x3701b2)[_0x5cd820(0x2fb)](_0x5cd820(0x305));}trophiesEquipped=0x0,trophiesOwned=0x0;for(let _0x3226bd=0x0;_0x3226bd<0x3;++_0x3226bd){let _0x45f435=document[_0x5cd820(0x259)](_0x5cd820(0x2e5)+_0x3226bd);_0x45f435[_0x5cd820(0x2b4)][_0x5cd820(0x2b8)](_0x5cd820(0x23a)),_0x45f435[_0x5cd820(0x2b4)][_0x5cd820(0x2b8)](_0x5cd820(0x287)),$('#at'+_0x3226bd)['hide'](),$(_0x5cd820(0x2bc)+_0x3226bd)[_0x5cd820(0x2fb)](0x0);}wallXY=0x0,wallDirection=!0x0,clearAlpha(),stopMovement(),mouseDown=!0x1,seconds=0x0,actionCounter=0x0,animCounter=0x0,clockCounter=0x0,fieldFireX=0x200,fieldFireY=0x200,fieldFireXEnd=0x200,fieldFireYEnd=0x200,fieldFireSize=0x0,fieldIceX=0x200,fieldIceY=0x200,fieldIceXEnd=0x200,fieldIceYEnd=0x200,fieldIceSize=0x0,fieldPointsX=0x200,fieldPointsY=0x200,fieldPointsXEnd=0x200,fieldPointsYEnd=0x200,fieldPointsSize=0x0;}function updateBrickstyle(){const _0x18ae2b=_0x4aa168;if(-0x1!=myId&&me['Size']>0x50){brickStyle=_0x18ae2b(0x320);return;}let _0x3c1bf0=randomInt31(0x3);switch(_0x3c1bf0){case 0x0:brickStyle=_0x18ae2b(0x212);break;case 0x1:brickStyle=_0x18ae2b(0x320);break;case 0x2:brickStyle=_0x18ae2b(0x249);break;case 0x3:brickStyle=gradientMargin;}}function playAgain(){const _0x556a20=_0x4aa168;gopopup['css'](cssHidden),winpopup['css'](cssHidden),collapseAllMenu(),pointsValue[_0x556a20(0x2fb)]('0'),statuscollapsed[_0x556a20(0x346)](cssStatusCollapsedBlinkOff),lvl[_0x556a20(0x2fb)](0x1),scoreLvl[_0x556a20(0x2fb)](0x1),initGame(),_0x556a20(0x237)!=typeof sdk&&_0x556a20(0x237)!==sdk['showBanner']&&sdk['showBanner']();}function calculateTTL(_0x1545b3){return(retVal=_0x1545b3/0x2*0x14)>0x1f4&&(retVal=0x1f4),retVal;}function gift(_0x2fe80f){const _0x4ceb25=_0x4aa168;let _0x9a62a1=giftsqueue[_0x4ceb25(0x300)]();giftsqueue[_0x4ceb25(0x258)](_0x2fe80f),(async function(){await showGift(_0x9a62a1);}());}function performTetris(){const _0x2555cf=_0x4aa168;var _0x24cdbc=0x0,_0x45bc1f=0x0,_0x4624fb=0x0,_0xfda15c=0x0,_0x5f41ba=me[_0x2555cf(0x293)]*me[_0x2555cf(0x293)];for(let _0x2dc97e=0x0;_0x2dc97e<me['Bricks']['length'];_0x2dc97e++){let _0x102e19=bricks[_0x2555cf(0x2c5)](me[_0x2555cf(0x2a0)][_0x2dc97e]);_0x102e19['ID']%0x97==0x0||(_0x102e19['ID']%0x6f==0x0?_0xfda15c+=0x1:_0x102e19['ID']%0x14==0x0?(myPoints+=0x3c,_0x45bc1f+=0x1):_0x102e19['ID']%0xf==0x0?(myPoints+=0x28,_0x24cdbc+=0x1):_0x102e19['ID']%0xa==0x0&&(myPoints+=0x50,_0x4624fb+=0x1)),bricks[_0x2555cf(0x21e)](_0x102e19['ID']),xy[_0x102e19['X']][_0x102e19['Y']]=-0x1;}let _0x422b0c=[];me['Bricks']=[];var _0x367dc3=0x1;_0x24cdbc==_0x5f41ba?(_0x367dc3=0x28,_0x422b0c[_0x2555cf(0x1f9)](0x12)):_0x45bc1f==_0x5f41ba?(_0x367dc3=0x3c,_0x422b0c['push'](0x13)):_0x4624fb==_0x5f41ba&&(_0x367dc3=0x50,_0x422b0c[_0x2555cf(0x1f9)](0x14)),gold+=_0x4624fb,silver+=_0x45bc1f,bronze+=_0x24cdbc,myPoints+=0x4*_0x5f41ba*_0x367dc3;let _0x300337=me['X']-currentViewX,_0x3555dc=me['Y']-currentViewY,_0x4a0ba3=(_0x300337+me['Size']/0x2)*segX,_0x149b0e=(_0x3555dc+me['Size']/0x2)*segY;for(me[_0x2555cf(0x303)](_0x4a0ba3,_0x149b0e,me['Size']*me[_0x2555cf(0x293)]),0x60!=me[_0x2555cf(0x293)]&&(me[_0x2555cf(0x293)]+=0x2,0x20==me[_0x2555cf(0x293)]&&(myPointRate*=0x2),me['X']+me['Size']>0x200&&(me['X']=0x200-me['Size']),me['Y']+me[_0x2555cf(0x293)]>0x200&&(me['Y']=0x200-me[_0x2555cf(0x293)]),myTtl=calculateTTL(me['Size']),0x60==me['Size']&&_0x422b0c[_0x2555cf(0x1f9)](0x15)),(0xc==me[_0x2555cf(0x293)]||0x16==me[_0x2555cf(0x293)])&&(mySpeed+=0x1,updateSpeed()),0x13==me[_0x2555cf(0x293)]&&_0x422b0c['push'](0x16),i=0x0;i<_0xfda15c;i++)(res=randomInt31(0x3e8))<0x32&&(_0x422b0c[_0x2555cf(0x1f9)](0x30),gold+=0x5),(res=randomInt31(0x3e8))>0x2bc?mySpeed>0x1?(_0x422b0c[_0x2555cf(0x1f9)](0xc),mySpeed-=0x1,updateSpeed(),expireSpeedPlus(gameInstance,0xf)):(_0x422b0c[_0x2555cf(0x1f9)](0xd),myPoints+=0x7d0):res>0x15e?(_0x422b0c[_0x2555cf(0x1f9)](0xd),myPoints+=0x7d0):res>0x64?(_0x422b0c[_0x2555cf(0x1f9)](0xe),(myTtl+=0x1e)>0x258&&(myTtl=0x258)):res>0x32?(_0x422b0c['push'](0x10),myPoints=Math[_0x2555cf(0x1f3)](myPoints-0x1f4,0x0)):res>0xa?(_0x422b0c['push'](0x11),myTtl=Math[_0x2555cf(0x1f3)](myTtl-0x1e,0x1)):res>0x5?mySpeed<0x5?(_0x422b0c[_0x2555cf(0x1f9)](0xf),mySpeed+=0x1,updateSpeed(),expireSpeedMinus(gameInstance,0xf)):(_0x422b0c[_0x2555cf(0x1f9)](0x10),myPoints=Math[_0x2555cf(0x1f3)](myPoints-0x1f4,0x0)):(_0x422b0c[_0x2555cf(0x1f9)](0x2f),gold+=0xa);updateCurrentViewXY(me[_0x2555cf(0x293)]),calculateDrawParams(),updateLevel(),updateScores(),updateTtl(),update(),updateBrickstyle();for(let _0x4c392b=0x0;_0x4c392b<_0x422b0c[_0x2555cf(0x300)];++_0x4c392b)gift(_0x422b0c[_0x4c392b]);updateCoins(),sendFirstBrick(),me[_0x2555cf(0x2bb)]&&(me[_0x2555cf(0x2bb)]=!0x1),me[_0x2555cf(0x344)]&&(me['Fire']=!0x1);}function catchSpell(){const _0x487b5e=_0x4aa168;if(!me[_0x487b5e(0x210)]){endx=me['X']+me[_0x487b5e(0x293)],endy=me['Y']+me['Size'];var _0x454567=0x0,_0x3a8f6e=!0x1,_0x535076=0x0;for(let _0x493d99=me['X'];_0x493d99<endx;_0x493d99++)for(let _0xcc999c=me['Y'];_0xcc999c<endy;_0xcc999c++)if(-0x1!=xy[_0x493d99][_0xcc999c]){if((brick=bricks[_0x487b5e(0x2c5)](xy[_0x493d99][_0xcc999c]))[_0x487b5e(0x34a)]!=myId){if(brick['ID']<0x60)continue;if(0x60==brick['ID']){bricks[_0x487b5e(0x21e)](brick['ID']),xy[brick['X']][brick['Y']]=-0x1,updateBricksInViewFunction(),myPoints+=0x3a98,updatePoints(),gift(0x26);continue;}if(0x61==brick['ID']){bricks[_0x487b5e(0x21e)](brick['ID']),xy[brick['X']][brick['Y']]=-0x1,updateBricksInViewFunction(),gold+=0x64,updateGold(),gift(0x27);continue;}if(me[_0x487b5e(0x344)]&&brick['ID']%0x97==0x0&&brick['ID']%0x64!=0x0&&brick['ID']%0xfb!=0x0&&brick['ID']%0x15d!=0x0&&brick['ID']%0x1f3!=0x0){explodedBricks=[],brick['ID']%0x97==0x0&&brick['ID']%0x64!=0x0&&brick['ID']%0xfb!=0x0&&brick['ID']%0x15d!=0x0&&brick['ID']%0x1f3!=0x0&&(radius=getRadius(brick),explode(brick['X'],brick['Y'],radius)),detonate();continue;}brick['ID']%0x1f3==0x0?(bricks[_0x487b5e(0x21e)](brick['ID']),xy[brick['X']][brick['Y']]=idBrick,brick['ID']=idBrick,bricks[_0x487b5e(0x32c)](idBrick,brick),idBrick++,buyTTLFreeSpell()):brick['ID']%0x15d==0x0?(bricks[_0x487b5e(0x21e)](brick['ID']),xy[brick['X']][brick['Y']]=idBrick,brick['ID']=idBrick,bricks[_0x487b5e(0x32c)](idBrick,brick),idBrick++,speedFreeSpell()):brick['ID']%0xfb==0x0&&(bricks[_0x487b5e(0x21e)](brick['ID']),xy[brick['X']][brick['Y']]=idBrick,brick['ID']=idBrick,bricks[_0x487b5e(0x32c)](idBrick,brick),idBrick++,_0x3a8f6e=!0x0),brick[_0x487b5e(0x34a)]=myId,me[_0x487b5e(0x2a0)]['push'](brick['ID']),_0x535076++;}brick['ID']%0x64==0x0&&(_0x454567=brick['ID']);}if(0x0!=_0x535076){myPoints+=_0x535076;var _0x26c0b5=me[_0x487b5e(0x2a0)][_0x487b5e(0x300)],_0x526bd7=me['Size']*me[_0x487b5e(0x293)];if(0x0!=_0x454567&&_0x26c0b5==_0x526bd7){for(let _0x118e21=0x0;_0x118e21<me[_0x487b5e(0x2a0)]['length'];_0x118e21++)if((brick=bricks[_0x487b5e(0x2c5)](me[_0x487b5e(0x2a0)][_0x118e21]))['ID']==_0x454567){me[_0x487b5e(0x2a0)][_0x487b5e(0x25f)](_0x118e21,0x1);break;}bricks[_0x487b5e(0x21e)](_0x454567),_0x26c0b5-=0x1,xy[brick['X']][brick['Y']]=-0x1;let _0x1ecc6b=brick['X']-currentViewX,_0x30504c=brick['Y']-currentViewY,_0x5c7777=_0x1ecc6b*segX,_0x404584=_0x30504c*segY;me['initParticles'](_0x5c7777,_0x404584,0x1),gift(0x25);}if(0x2400==_0x26c0b5){update(),youWinGame();return;}_0x26c0b5==_0x526bd7?(performTetris(),((score=me[_0x487b5e(0x293)]/0x2)>0x9||score%0x2==0x1)&&_0x487b5e(0x237)!=typeof sdk&&_0x487b5e(0x237)!==sdk['showBanner']&&sdk[_0x487b5e(0x31d)]()):_0x3a8f6e&&magnetFreeSpell(),update();}}}function update(){const _0x48aa77=_0x4aa168;me[_0x48aa77(0x2f6)](),updatePoints(),updateBricksInViewFunction();}function releaseSpell(){const _0x3ee743=_0x4aa168;if(!me[_0x3ee743(0x210)]&&(clientBricksNumber=me[_0x3ee743(0x2a0)][_0x3ee743(0x300)])>0x0){myPoints>clientBricksNumber?myPoints-=clientBricksNumber:myPoints=0x0;for(let _0xeccc08=0x0;_0xeccc08<me['Bricks'][_0x3ee743(0x300)];_0xeccc08++)bricks[_0x3ee743(0x2c5)](me[_0x3ee743(0x2a0)][_0xeccc08])[_0x3ee743(0x34a)]=0xff;me[_0x3ee743(0x2a0)]=[],update(),me[_0x3ee743(0x2bb)]&&(me[_0x3ee743(0x2bb)]=!0x1),me['Fire']&&(me['Fire']=!0x1);}}function rotateSpell(){const _0x6ff330=_0x4aa168;if(spellsEnabled[_0x6ff330(0x2c5)](ROTATEBIT)&&!me[_0x6ff330(0x210)]){if(px=me['X']+me['Size']/0x2,py=me['Y']+me[_0x6ff330(0x293)]/0x2,me[_0x6ff330(0x2a0)]['length']>0x0){if(myPoints>=0x5){for(let _0x419768=0x0;_0x419768<me[_0x6ff330(0x2a0)][_0x6ff330(0x300)];_0x419768++){let _0x3c2743=bricks[_0x6ff330(0x2c5)](me[_0x6ff330(0x2a0)][_0x419768]);if(tryPosx=_0x3c2743['Y']+px-py,tryPosy=px+py-_0x3c2743['X']-0x1,-0x1!=(tryPosId=xy[tryPosx][tryPosy])&&bricks['get'](tryPosId)['MasterId']!=_0x3c2743[_0x6ff330(0x34a)])return;}myPoints-=0x5;}else{gift(0x1);return;}}else{gift(0x0);return;}for(let _0x4fc497=0x0;_0x4fc497<me[_0x6ff330(0x2a0)][_0x6ff330(0x300)];_0x4fc497++){let _0x11076e=bricks['get'](me[_0x6ff330(0x2a0)][_0x4fc497]);xy[_0x11076e['X']][_0x11076e['Y']]=-0x1;}for(let _0x503f55=0x0;_0x503f55<me[_0x6ff330(0x2a0)][_0x6ff330(0x300)];_0x503f55++){let _0x48fd26=bricks['get'](me[_0x6ff330(0x2a0)][_0x503f55]),_0x301922=_0x48fd26['Y']+px-py,_0x33cecc=px+py-_0x48fd26['X']-0x1;_0x48fd26['X']=_0x301922,_0x48fd26['Y']=_0x33cecc,xy[_0x48fd26['X']][_0x48fd26['Y']]=_0x48fd26['ID'];}updateBricksInViewFunction(),updatePoints();}}function magnetSpell(){const _0x2e0951=_0x4aa168;spellsEnabled['get'](MAGNETBIT)&&!me[_0x2e0951(0x210)]&&((nrBricks=me[_0x2e0951(0x2a0)][_0x2e0951(0x300)])>0x0?myPoints>=(cost=0xfa+0x2*nrBricks)?(magnet(nrBricks),myPoints-=cost,updatePoints()):gift(0x1):gift(0x0));}function magnetFreeSpell(){const _0x199322=_0x4aa168;spellsEnabled[_0x199322(0x2c5)](MAGNETBIT)&&!me[_0x199322(0x210)]&&((nrBricks=me['Bricks'][_0x199322(0x300)])>0x0?magnet(nrBricks):gift(0x0));}function magnet(_0x5b7e89){const _0x4b121c=_0x4aa168;ghost=0x0,halfSize=me[_0x4b121c(0x293)]/0x2,midX=me['X']+halfSize-0x1,midY=me['Y']+halfSize-0x1;var _0x843625=0x0,_0xa84be7=0x0,_0x333851=0x0,_0x1f3d40=-0x1;for(let _0x5ae110=0x0;_0x5ae110<_0x5b7e89;_0x5ae110++){let _0x33e7db=bricks[_0x4b121c(0x2c5)](me[_0x4b121c(0x2a0)][_0x5ae110]);xy[_0x33e7db['X']][_0x33e7db['Y']]=-0x1,_0x33e7db['ID']%0x64==0x0&&(ghost=_0x33e7db['ID']);}for(i=0x0;i<_0x5b7e89;)-halfSize<_0x843625&&_0x843625<=halfSize&&-halfSize<_0xa84be7&&_0xa84be7<=halfSize&&-0x1===xy[_0x843625+midX][_0xa84be7+midY]&&((brick=bricks['get'](me[_0x4b121c(0x2a0)][i]))['X']=_0x843625+midX,brick['Y']=_0xa84be7+midY,xy[brick['X']][brick['Y']]=brick['ID'],i++),(_0x843625==_0xa84be7||_0x843625<0x0&&_0x843625==-_0xa84be7||_0x843625>0x0&&_0x843625==0x1-_0xa84be7)&&(temp=_0x333851,_0x333851=-_0x1f3d40,_0x1f3d40=temp),_0x843625+=_0x333851,_0xa84be7+=_0x1f3d40;if(0x0!=ghost){for(let _0x1e80f8=0x0;_0x1e80f8<me[_0x4b121c(0x2a0)][_0x4b121c(0x300)];_0x1e80f8++)if((brick=bricks[_0x4b121c(0x2c5)](me['Bricks'][_0x1e80f8]))['ID']==ghost){me['Bricks'][_0x4b121c(0x25f)](_0x1e80f8,0x1);break;}bricks[_0x4b121c(0x21e)](ghost),xy[brick['X']][brick['Y']]=-0x1,updateBricksInViewFunction();let _0x41d19d=brick['X']-currentViewX,_0x49eba1=brick['Y']-currentViewY,_0xe1cb9b=_0x41d19d*segX,_0x592e46=_0x49eba1*segY;me[_0x4b121c(0x303)](_0xe1cb9b,_0x592e46,0x1),gift(0x25);}}function shieldSpell(){const _0x150e8e=_0x4aa168;if(!spellsEnabled[_0x150e8e(0x2c5)](SHIELDBIT))return;}function expireFire(_0x3eacbd,_0x3745bf){setTimeout(()=>{const _0x42896b=_0x3fc2;gameOver||_0x3eacbd!=gameInstance||_0x3745bf!=fireInstance||(me[_0x42896b(0x344)]=!0x1);},0x3e8*fireDuration,_0x3eacbd,_0x3745bf);}function expireChainField(_0x531061){setTimeout(()=>{const _0x15654b=_0x3fc2;if(!gameOver&&_0x531061==gameInstance){me[_0x15654b(0x210)]=!0x1;let _0xbb0ce0=me['X']-currentViewX,_0x325a95=me['Y']-currentViewY,_0x5df16c=(_0xbb0ce0+me[_0x15654b(0x293)]/0x2)*segX,_0x4d5ad0=(_0x325a95+me['Size']/0x2)*segY;me[_0x15654b(0x2a4)](_0x5df16c,_0x4d5ad0,me[_0x15654b(0x293)]*me[_0x15654b(0x293)]);}},0xfa0,_0x531061);}function fireSpell(){const _0x424b03=_0x4aa168;if(spellsEnabled['get'](FIREBIT)&&(nrBricks=me['Bricks'][_0x424b03(0x300)],!me[_0x424b03(0x344)]&&!me[_0x424b03(0x210)])){if(me[_0x424b03(0x2a0)][_0x424b03(0x300)]>0x0){if(myPoints>=(cost=0xfa+0x2*nrBricks)){myPoints-=cost,me['Fire']=!0x0,expireFire(gameInstance,fireInstance+=0x1),gift(0x5),updateSpeed(),updatePoints(),explodedBricks=[];for(let _0x1e2229=0x0;_0x1e2229<me[_0x424b03(0x2a0)][_0x424b03(0x300)];_0x1e2229++){let _0x55a659=bricks[_0x424b03(0x2c5)](me[_0x424b03(0x2a0)][_0x1e2229]);_0x55a659['ID']%0x97==0x0&&_0x55a659['ID']%0x64!=0x0&&_0x55a659['ID']%0xfb!=0x0&&_0x55a659['ID']%0x15d!=0x0&&_0x55a659['ID']%0x1f3!=0x0&&(radius=getRadius(_0x55a659),explode(_0x55a659['X'],_0x55a659['Y'],radius));}detonate();}else gift(0x1);}else gift(0x0);}}function buyTTLSpell(){const _0x1ecd7c=_0x4aa168;spellsEnabled['get'](TIMEBIT)&&(me[_0x1ecd7c(0x210)]||(myPoints>=0x2ee?(myPoints-=0x2ee,myTtl+=0x1e,updateTtl(),updatePoints(),gift(0x8)):gift(0x1)));}function buyTTLFreeSpell(){const _0x10b7a7=_0x4aa168;me[_0x10b7a7(0x210)]||(myTtl+=0x1e,updateTtl(),updatePoints(),gift(0x8));}function shrinkSpell(){spellsEnabled['get'](SHRINKBIT)&&(msgArray1byte[0x0]=0xf,Game['ws']['send'](msgArray1byte));}function expireSpeedPlus(_0x1721af,_0x1f9652){setTimeout(()=>{gameOver||_0x1721af!=gameInstance||(mySpeed+=0x1,gift(0xa),updateSpeed());},0x3e8*_0x1f9652,_0x1721af);}function expireSpeedMinus(_0x3df513,_0x3c34bb){setTimeout(()=>{gameOver||_0x3df513!=gameInstance||(mySpeed-=0x1,gift(0xb),updateSpeed());},0x3e8*_0x3c34bb,_0x3df513);}function speedSpell(){spellsEnabled['get'](SPEEDBIT)&&(myPoints>=0x64?mySpeed>0x1?(myPoints-=0x64,mySpeed-=0x1,expireSpeedPlus(gameInstance,speedDuration),gift(0x7),updateSpeed(),updatePoints()):gift(0x9):gift(0x1));}function _0x3fc2(_0x57b394,_0x4e7b86){const _0x5a334e=_0x5a33();return _0x3fc2=function(_0x3fc2cc,_0x3758c3){_0x3fc2cc=_0x3fc2cc-0x1f3;let _0x35db7d=_0x5a334e[_0x3fc2cc];return _0x35db7d;},_0x3fc2(_0x57b394,_0x4e7b86);}function speedFreeSpell(){spellsEnabled['get'](SPEEDBIT)&&(mySpeed>0x1?(myPoints-=0x64,mySpeed-=0x1,expireSpeedPlus(gameInstance,0xf),gift(0x4),updateSpeed(),updatePoints()):gift(0x9));}document[_0x4aa168(0x24d)]=function(){const _0x40bfbf=_0x4aa168;_0x40bfbf(0x333)===document['readyState']&&((canvas=document[_0x40bfbf(0x259)](_0x40bfbf(0x26e)))['width']=window['innerWidth'],canvas[_0x40bfbf(0x22c)]=window[_0x40bfbf(0x2d1)],ctx=canvas[_0x40bfbf(0x28b)]('2d'),$(_0x40bfbf(0x364))[_0x40bfbf(0x2e6)](_0x40bfbf(0x321),!0x0),$(_0x40bfbf(0x260))[_0x40bfbf(0x2e6)](_0x40bfbf(0x321),!0x1),$(_0x40bfbf(0x33e))['prop'](_0x40bfbf(0x321),!0x1),$(_0x40bfbf(0x20b))['prop'](_0x40bfbf(0x321),!0x0),$(_0x40bfbf(0x319))[_0x40bfbf(0x2e6)](_0x40bfbf(0x321),!0x1),redrawFunction=isMobile?redrawScaleMobile:redrawScalePc,calculateGradient(),checkMinimumVisible(),coinSize=imgGold[_0x40bfbf(0x22c)],window[_0x40bfbf(0x299)](_0x40bfbf(0x338),resizeCanvas,!0x1),window[_0x40bfbf(0x299)]('dragstart',stopMovement,!0x1),document[_0x40bfbf(0x36b)][_0x40bfbf(0x299)](_0x40bfbf(0x294),stopMovement,!0x1),$(window)[_0x40bfbf(0x2e4)](function(){stopMovement();}),onOverlapEnd(_0x40bfbf(0x366)),onOverlapEnd(_0x40bfbf(0x2df)),onOverlapAllUnfocus(_0x40bfbf(0x318)),onOverlapAllUnfocus(_0x40bfbf(0x265)),onOverlapAll('#gifts'),onOverlapAll(_0x40bfbf(0x30b)),onOverlapAll(_0x40bfbf(0x1fa)),touchToClick(_0x40bfbf(0x35d)),touchToClick(_0x40bfbf(0x314)),touchToClick(_0x40bfbf(0x243)),touchToClick(_0x40bfbf(0x2ef)),touchToClick(_0x40bfbf(0x312)),touchToClick('#Release'),touchToClick(_0x40bfbf(0x318)),touchToClick(_0x40bfbf(0x366)),touchToClick(_0x40bfbf(0x2df)),touchToClick(_0x40bfbf(0x31b)),touchToClick(_0x40bfbf(0x265)),touchToClick(_0x40bfbf(0x2f3)),touchToClick(_0x40bfbf(0x20d)),setupGame(),initGame());},helpcollapsed[_0x4aa168(0x32d)](function(){const _0x26fe96=_0x4aa168;helpexpand['show'](),helpcollapsed['hide'](),settingscollapsed[_0x26fe96(0x2d5)](),statuscollapsed['hide']();}),helpexpand[_0x4aa168(0x32d)](function(){const _0x32ed99=_0x4aa168;helpexpand['hide'](),helpcollapsed[_0x32ed99(0x2ac)](),settingscollapsed[_0x32ed99(0x2ac)](),statuscollapsed[_0x32ed99(0x2ac)]();}),settingscollapsed[_0x4aa168(0x32d)](function(){const _0x274e50=_0x4aa168;helpcollapsed[_0x274e50(0x2d5)](),settingscollapsed[_0x274e50(0x2d5)](),settingsexpand[_0x274e50(0x2ac)](),statuscollapsed[_0x274e50(0x2d5)]();}),settingsexpand[_0x4aa168(0x32d)](function(_0x2ef744){const _0x5a23be=_0x4aa168;_0x2ef744[_0x5a23be(0x24a)]===this&&(settingsexpand[_0x5a23be(0x2d5)](),settingscollapsed['show'](),hide||(helpcollapsed[_0x5a23be(0x2ac)](),statuscollapsed['show']()));}),statuscollapsed[_0x4aa168(0x32d)](function(){const _0xcabd31=_0x4aa168;statusCharm[_0xcabd31(0x2fb)](''),helpcollapsed[_0xcabd31(0x2d5)](),settingscollapsed[_0xcabd31(0x2d5)](),statuscollapsed[_0xcabd31(0x2d5)](),updateStatus(),statusexpand[_0xcabd31(0x2ac)](),points[_0xcabd31(0x2d5)](),spells['hide'](),runNotifyCoins&&(runNotifyCoins=!0x1,statuscollapsed['css'](cssStatusCollapsedBlinkOff));}),statusexpand[_0x4aa168(0x32d)](function(){const _0x19f800=_0x4aa168;helpcollapsed['show'](),settingscollapsed[_0x19f800(0x2ac)](),statusexpand[_0x19f800(0x2d5)](),statuscollapsed[_0x19f800(0x2ac)](),points[_0x19f800(0x2ac)](),spells[_0x19f800(0x2ac)]();}),scorecollapsed[_0x4aa168(0x32d)](function(){}),scoreexpand[_0x4aa168(0x32d)](function(){const _0x3e7b23=_0x4aa168;scoreexpand['hide'](),scorecollapsed[_0x3e7b23(0x2ac)]();}),spellshrink['click'](function(){shrinkSpell();}),spelltime[_0x4aa168(0x32d)](function(){buyTTLSpell();}),spellspeed[_0x4aa168(0x32d)](function(){speedSpell();}),spellrotate[_0x4aa168(0x32d)](function(){rotateSpell();}),spellmagnet['click'](function(){magnetSpell();}),spellfire[_0x4aa168(0x32d)](function(){fireSpell();}),spellshield[_0x4aa168(0x32d)](function(){shieldSpell();}),imgGlue['onclick']=function(){catchSpell();},imgRelease[_0x4aa168(0x27f)]=function(){releaseSpell();},imgFire[_0x4aa168(0x27f)]=function(){fireSpell();},imgShield['onclick']=function(){shieldSpell();},imgRotate[_0x4aa168(0x27f)]=function(){rotateSpell();},imgMagnet['onclick']=function(){magnetSpell();},imgShrink[_0x4aa168(0x27f)]=function(){shrinkSpell();},imgSpeed['onclick']=function(){speedSpell();},imgTime[_0x4aa168(0x27f)]=function(){buyTTLSpell();};let Key={'_pressed':{},'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'DOWN':0x28,'CATCH':0x20,'RELEASE':0x4d,'ROTATE':0x4e,'MAGNET':0x42,'SHIELD':0x56,'FIRE':0x46,'TTL':0x54,'SHRINK':0x43,'SPEED':0x58,'ZOOMIN':0x39,'ZOOMOUT':0x30,'alt':{0x25:0x41,0x27:0x44,0x26:0x57,0x28:0x53},'isDown':function(_0x3f6028){const _0x20de1f=_0x4aa168;return this['_pressed'][_0x3f6028]||this[_0x20de1f(0x2cd)][this['alt'][_0x3f6028]];},'onKeydown':function(_0x488df5){const _0x95444e=_0x4aa168;if(_0x488df5[_0x95444e(0x25d)]===Key[_0x95444e(0x30c)]&&!this[_0x95444e(0x316)](_0x488df5['keyCode'])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),catchSpell();return;}if(_0x488df5['keyCode']===Key[_0x95444e(0x35a)]&&!this['isDown'](_0x488df5[_0x95444e(0x25d)])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5['stopPropagation'](),rotateSpell();return;}if(_0x488df5[_0x95444e(0x25d)]===Key[_0x95444e(0x1f8)]&&!this[_0x95444e(0x316)](_0x488df5['keyCode'])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),releaseSpell();return;}if(_0x488df5['keyCode']===Key['MAGNET']&&!this['isDown'](_0x488df5[_0x95444e(0x25d)])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5['stopPropagation'](),magnetSpell();return;}if(_0x488df5[_0x95444e(0x25d)]===Key['SHIELD']&&!this['isDown'](_0x488df5[_0x95444e(0x25d)])){this['_pressed'][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),shieldSpell();return;}if(_0x488df5[_0x95444e(0x25d)]===Key['FIRE']&&!this[_0x95444e(0x316)](_0x488df5[_0x95444e(0x25d)])){this['_pressed'][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),fireSpell();return;}if(_0x488df5['keyCode']===Key[_0x95444e(0x2fe)]&&!this[_0x95444e(0x316)](_0x488df5[_0x95444e(0x25d)])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),buyTTLSpell();return;}if(_0x488df5['keyCode']===Key[_0x95444e(0x236)]&&!this[_0x95444e(0x316)](_0x488df5[_0x95444e(0x25d)])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),shrinkSpell();return;}if(_0x488df5[_0x95444e(0x25d)]===Key['SPEED']&&!this[_0x95444e(0x316)](_0x488df5[_0x95444e(0x25d)])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5['stopPropagation'](),speedSpell();return;}if(_0x488df5[_0x95444e(0x25d)]===Key[_0x95444e(0x25b)]&&!this[_0x95444e(0x316)](_0x488df5['keyCode'])){this['_pressed'][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5['preventDefault'](),_0x488df5[_0x95444e(0x278)](),ZOOMFACTORX=0x8,ZOOMFACTORY=0x4,zoom();return;}if(_0x488df5[_0x95444e(0x25d)]===Key['ZOOMOUT']&&!this[_0x95444e(0x316)](_0x488df5[_0x95444e(0x25d)])){this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)](),ZOOMFACTORX=0xc,ZOOMFACTORY=0x6,zoom();return;}this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]||(this[_0x95444e(0x2cd)][_0x488df5[_0x95444e(0x25d)]]=!0x0,processKey=!0x0),getCurrentDirection(),-0x1!==curDir&&(_0x488df5[_0x95444e(0x26f)](),_0x488df5[_0x95444e(0x278)]());},'onKeyup':function(_0x47332c){const _0x19fe8b=_0x4aa168;delete this[_0x19fe8b(0x2cd)][_0x47332c[_0x19fe8b(0x25d)]],getCurrentDirection();}};function isInCircle(_0x3f3ade,_0x377504,_0x401a81,_0x48d8d0,_0xa7a130){const _0x2ed71a=_0x4aa168;return Math[_0x2ed71a(0x2dc)](Math[_0x2ed71a(0x317)](_0x3f3ade-_0x401a81,0x2)+Math[_0x2ed71a(0x317)](_0x377504-_0x48d8d0,0x2))<_0xa7a130;}function handleKeyDown(_0x470e8a){const _0x3eb6a6=_0x4aa168;Key[_0x3eb6a6(0x34e)](_0x470e8a);}function handleKeyUp(_0x1c4f6e){const _0x3ee353=_0x4aa168;Key[_0x3ee353(0x1f7)](_0x1c4f6e);}function handleStart(_0x2ebb3d){const _0x2745b5=_0x4aa168;_0x2ebb3d[_0x2745b5(0x26f)](),_0x2ebb3d['stopPropagation'](),processKey=!0x0;let _0x2434e0=_0x2ebb3d[_0x2745b5(0x286)],_0x4e7ead=_0x2434e0[0x0][_0x2745b5(0x2f4)],_0xbc16d8=_0x2434e0[0x0][_0x2745b5(0x2ca)];_0x4e7ead>meXsegX&&_0x4e7ead<meXsegXmeSIZEsegX&&_0xbc16d8>meYsegY&&_0xbc16d8<meYsegYmeSIZEsegY&&catchSpell(),handleOnGoingTouch(_0x2ebb3d);}function handleStartNoGlue(_0x488568){processKey=!0x0,handleOnGoingTouch(_0x488568);}function handleMove(_0x54d2e4){handleOnGoingTouch(_0x54d2e4);}function handleOnGoingTouch(_0x5196c3){const _0x4bb9e9=_0x4aa168;_0x5196c3['preventDefault'](),Key['_pressed'][Key['RIGHT']]=!0x1,Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x1,Key['_pressed'][Key['UP']]=!0x1,Key[_0x4bb9e9(0x2cd)][Key['DOWN']]=!0x1;let _0x3c93b2=_0x5196c3[_0x4bb9e9(0x286)];if(isInCircle(XSpell1,YSpell1,_0x3c93b2[0x0]['pageX'],_0x3c93b2[0x0][_0x4bb9e9(0x2ca)],RSpell1)||isInCircle(XSpell2,YSpell2,_0x3c93b2[0x0][_0x4bb9e9(0x2f4)],_0x3c93b2[0x0][_0x4bb9e9(0x2ca)],RSpell2)||isInCircle(XSpell3,YSpell3,_0x3c93b2[0x0][_0x4bb9e9(0x2f4)],_0x3c93b2[0x0][_0x4bb9e9(0x2ca)],RSpell3)||isInCircle(XSpell4,YSpell4,_0x3c93b2[0x0][_0x4bb9e9(0x2f4)],_0x3c93b2[0x0]['pageY'],RSpell4)||isInCircle(XSpell5,YSpell5,_0x3c93b2[0x0][_0x4bb9e9(0x2f4)],_0x3c93b2[0x0][_0x4bb9e9(0x2ca)],RSpell5))return;let _0x4d2108=_0x3c93b2[0x0][_0x4bb9e9(0x2f4)]-0.5*canvas[_0x4bb9e9(0x335)],_0x35da19=_0x3c93b2[0x0][_0x4bb9e9(0x2ca)]-0.5*canvas['height'],_0x491fca=_0x4d2108/_0x35da19;Math[_0x4bb9e9(0x213)](_0x35da19)>Math[_0x4bb9e9(0x213)](_0x4d2108)?_0x35da19>0x0?_0x491fca<-0.45?(Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x270)]]=!0x0,Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x0):_0x491fca<0.45?Key[_0x4bb9e9(0x2cd)][Key['DOWN']]=!0x0:(Key['_pressed'][Key['DOWN']]=!0x0,Key[_0x4bb9e9(0x2cd)][Key['RIGHT']]=!0x0):_0x491fca<-0.45?(Key[_0x4bb9e9(0x2cd)][Key['UP']]=!0x0,Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x2d4)]]=!0x0):_0x491fca<0.45?Key['_pressed'][Key['UP']]=!0x0:(Key[_0x4bb9e9(0x2cd)][Key['UP']]=!0x0,Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x0):_0x4d2108>0x0?_0x491fca<-0x2?Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x2d4)]]=!0x0:_0x491fca<0x0?(Key['_pressed'][Key['RIGHT']]=!0x0,Key[_0x4bb9e9(0x2cd)][Key['UP']]=!0x0):_0x491fca<0x2?(Key[_0x4bb9e9(0x2cd)][Key['RIGHT']]=!0x0,Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x270)]]=!0x0):Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x2d4)]]=!0x0:_0x491fca<-0x2?Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x0:_0x491fca<0x0?(Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x0,Key[_0x4bb9e9(0x2cd)][Key['DOWN']]=!0x0):_0x491fca<0x2?(Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x0,Key[_0x4bb9e9(0x2cd)][Key['UP']]=!0x0):Key[_0x4bb9e9(0x2cd)][Key[_0x4bb9e9(0x224)]]=!0x0,getCurrentDirection();}function handleCancel(){stopMovement();}function handleEnd(_0x27c0f0){const _0x9623d4=_0x4aa168;_0x27c0f0[_0x9623d4(0x26f)]();let _0x3ab0e4=_0x27c0f0[_0x9623d4(0x286)];if(isInCircle(XSpell1,YSpell1,_0x3ab0e4[0x0]['pageX'],_0x3ab0e4[0x0][_0x9623d4(0x2ca)],RSpell1)){let _0x36ac25=_0x3ab0e4[0x0][_0x9623d4(0x2f4)]-XSpell1,_0x24714d=_0x3ab0e4[0x0][_0x9623d4(0x2ca)]-YSpell1;Math[_0x9623d4(0x213)](_0x24714d)>Math[_0x9623d4(0x213)](_0x36ac25)?_0x24714d>0x0?fireSpell():rotateSpell():_0x36ac25>0x0?shieldSpell():magnetSpell();return;}if(isInCircle(XSpell2,YSpell2,_0x3ab0e4[0x0][_0x9623d4(0x2f4)],_0x3ab0e4[0x0][_0x9623d4(0x2ca)],RSpell2)){_0x3ab0e4[0x0][_0x9623d4(0x2f4)]-XSpell2>0x0?releaseSpell():catchSpell();return;}if(spellsEnabled['get'](SPEEDBIT)&&isInCircle(XSpell3,YSpell3,_0x3ab0e4[0x0][_0x9623d4(0x2f4)],_0x3ab0e4[0x0]['pageY'],RSpell3)){speedSpell();return;}if(spellsEnabled[_0x9623d4(0x2c5)](TIMEBIT)&&isInCircle(XSpell4,YSpell4,_0x3ab0e4[0x0]['pageX'],_0x3ab0e4[0x0][_0x9623d4(0x2ca)],RSpell4)){buyTTLSpell();return;}if(spellsEnabled[_0x9623d4(0x2c5)](SHRINKBIT)&&isInCircle(XSpell5,YSpell5,_0x3ab0e4[0x0][_0x9623d4(0x2f4)],_0x3ab0e4[0x0][_0x9623d4(0x2ca)],RSpell5)){shrinkSpell();return;}Key[_0x9623d4(0x2cd)][Key[_0x9623d4(0x2d4)]]=!0x1,Key['_pressed'][Key[_0x9623d4(0x224)]]=!0x1,Key['_pressed'][Key['UP']]=!0x1,Key['_pressed'][Key[_0x9623d4(0x270)]]=!0x1,curDir=-0x1;}function handleMouseDown(_0x557488){const _0x262e50=_0x4aa168;0x3!==_0x557488[_0x262e50(0x31f)]&&(_0x557488['pageX']>meXsegX&&_0x557488['pageX']<meXsegXmeSIZEsegX&&_0x557488[_0x262e50(0x2ca)]>meYsegY&&_0x557488[_0x262e50(0x2ca)]<meYsegYmeSIZEsegY&&catchSpell(),processKey=!0x0,0x1===_0x557488[_0x262e50(0x31f)]&&(mouseDown=!0x0),handleOnGoingMouse(_0x557488));}function handleMouseDownNoGlue(_0x2318d0){const _0x3879cb=_0x4aa168;0x3!==_0x2318d0[_0x3879cb(0x31f)]&&(processKey=!0x0,0x1===_0x2318d0[_0x3879cb(0x31f)]&&(mouseDown=!0x0),handleOnGoingMouse(_0x2318d0));}function handleMouseMove(_0x4a201e){handleOnGoingMouse(_0x4a201e);}function handleOnGoingMouse(_0x53640c){const _0x543069=_0x4aa168;if(!mouseDown)return;Key[_0x543069(0x2cd)][Key[_0x543069(0x2d4)]]=!0x1,Key['_pressed'][Key[_0x543069(0x224)]]=!0x1,Key[_0x543069(0x2cd)][Key['UP']]=!0x1,Key[_0x543069(0x2cd)][Key[_0x543069(0x270)]]=!0x1;let _0x1def64=_0x53640c[_0x543069(0x2f4)]-0.5*canvas['width'],_0x2f4e02=_0x53640c['pageY']-0.5*canvas[_0x543069(0x22c)],_0x1a6506=_0x1def64/_0x2f4e02;Math['abs'](_0x2f4e02)>Math[_0x543069(0x213)](_0x1def64)?_0x2f4e02>0x0?_0x1a6506<-0.45?(Key[_0x543069(0x2cd)][Key[_0x543069(0x270)]]=!0x0,Key[_0x543069(0x2cd)][Key[_0x543069(0x224)]]=!0x0):_0x1a6506<0.45?Key[_0x543069(0x2cd)][Key[_0x543069(0x270)]]=!0x0:(Key['_pressed'][Key['DOWN']]=!0x0,Key['_pressed'][Key['RIGHT']]=!0x0):_0x1a6506<-0.45?(Key[_0x543069(0x2cd)][Key['UP']]=!0x0,Key['_pressed'][Key[_0x543069(0x2d4)]]=!0x0):_0x1a6506<0.45?Key[_0x543069(0x2cd)][Key['UP']]=!0x0:(Key['_pressed'][Key['UP']]=!0x0,Key['_pressed'][Key[_0x543069(0x224)]]=!0x0):_0x1def64>0x0?_0x1a6506<-0x2?Key[_0x543069(0x2cd)][Key[_0x543069(0x2d4)]]=!0x0:_0x1a6506<0x0?(Key[_0x543069(0x2cd)][Key['RIGHT']]=!0x0,Key['_pressed'][Key['UP']]=!0x0):_0x1a6506<0x2?(Key['_pressed'][Key['RIGHT']]=!0x0,Key[_0x543069(0x2cd)][Key[_0x543069(0x270)]]=!0x0):Key[_0x543069(0x2cd)][Key[_0x543069(0x2d4)]]=!0x0:_0x1a6506<-0x2?Key[_0x543069(0x2cd)][Key[_0x543069(0x224)]]=!0x0:_0x1a6506<0x0?(Key[_0x543069(0x2cd)][Key[_0x543069(0x224)]]=!0x0,Key[_0x543069(0x2cd)][Key[_0x543069(0x270)]]=!0x0):_0x1a6506<0x2?(Key[_0x543069(0x2cd)][Key['LEFT']]=!0x0,Key['_pressed'][Key['UP']]=!0x0):Key['_pressed'][Key['LEFT']]=!0x0,getCurrentDirection();}function handleMouseUp(_0x4db959){const _0x53d490=_0x4aa168;_0x4db959[_0x53d490(0x26f)](),0x1===_0x4db959[_0x53d490(0x31f)]&&(mouseDown=!0x1),Key[_0x53d490(0x2cd)][Key[_0x53d490(0x2d4)]]=!0x1,Key[_0x53d490(0x2cd)][Key[_0x53d490(0x224)]]=!0x1,Key[_0x53d490(0x2cd)][Key['UP']]=!0x1,Key['_pressed'][Key['DOWN']]=!0x1,curDir=-0x1;}function doOverlap(_0x29ace3,_0x5a60a1,_0xfdc6b3,_0x4730ce,_0x49cec3,_0x97a10f,_0x4f259e,_0x24ce77){return _0x29ace3<_0x4f259e&&_0xfdc6b3>_0x49cec3&&_0x97a10f<_0x4730ce&&_0x24ce77>_0x5a60a1;}function zoomOut(){!intro&&(ZOOMFACTORX=0xc,ZOOMFACTORY=0x6,zoom());}function zoomIn(){!intro&&(ZOOMFACTORX=0x8,ZOOMFACTORY=0x4,zoom());}window['oncontextmenu']=function(){return releaseSpell(),!0x1;},DataView[_0x4aa168(0x202)][_0x4aa168(0x35e)]=function(_0x1b9aab,_0x34b001){const _0x19b0d0=_0x4aa168;let _0x522073=_0x19b0d0(0x2d2)==typeof _0x34b001?_0x1b9aab+_0x34b001:this['byteLength'],_0x4772e5='',_0x34ac2f=-0x1;for(;_0x1b9aab<this[_0x19b0d0(0x33c)]&&_0x1b9aab<_0x522073&&0x0!==(_0x34ac2f=this['getUint8'](_0x1b9aab++));)_0x4772e5+=String['fromCharCode'](_0x34ac2f);return _0x4772e5;},$(_0x4aa168(0x20d))[_0x4aa168(0x32d)](function(){zoomOut();}),$(_0x4aa168(0x2f3))[_0x4aa168(0x32d)](function(){zoomIn();}),goplayagain[_0x4aa168(0x32d)](function(){playAgain();}),winpopup[_0x4aa168(0x32d)](function(){playAgain();}),$(document)['keypress'](function(_0x11c330){const _0x5a849f=_0x4aa168;0xd===_0x11c330[_0x5a849f(0x31f)]&&!0x0===gameOver&&playAgain();});